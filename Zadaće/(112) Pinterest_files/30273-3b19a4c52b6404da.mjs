(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[30273,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},554290:(e,n,i)=>{var t=i(406557);e.exports=function(e){return"function"==typeof e?e:t}},385564:(e,n,i)=>{var t=i(121078);e.exports=function(e){return(null==e?0:e.length)?t(e,1):[]}},498913:(e,n,i)=>{var t=i(422545),o=i(554290),r=i(640554),a=4294967295,s=Math.min;e.exports=function(e,n){if((e=r(e))<1||e>9007199254740991)return[];var i=a,l=s(e,a);n=o(n),e-=a;for(var d=t(l,n);++i<e;)n(i);return d}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},531572:(e,n,i)=>{i.d(n,{GT:()=>m,Gy:()=>l,Kl:()=>v,QY:()=>_,RR:()=>c,SP:()=>p,Sn:()=>g,Uz:()=>h,Zs:()=>f,i8:()=>d,nn:()=>s,qN:()=>u});var t=i(227361),o=i.n(t),r=i(850770),a=i(259755);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var n,i;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(n=null===(i=e.rich_metadata)||void 0===i?void 0:i.products)&&void 0!==n?n:[]).length>0},d=e=>{var n;return null===(n=e.aggregated_pin_data)||void 0===n?void 0:n.is_shop_the_look},c=e=>{var n,i;return null===(n=e.rich_summary)||void 0===n||null===(i=n.aggregate_rating)||void 0===i?void 0:i.rating_value},u=e=>e.is_oos_product,p=e=>e.is_stale_product,h=e=>u(e)||p(e),_=e=>{const n=o()(e,"link_domain.official_user.full_name");if(n)return n;const i=o()(e,"rich_summary.site_name");if(i)return i;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const t=o()(e,"via_pinner.full_name");return e.is_repin&&t?t:void 0},m=e=>{if(e){const n=e.shopping_flags||[];return!n.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&n.push(10),n}return[]};function f(e,n={}){var i,t,o,s,l,d;const c=m(e),u={...n.commerce_data};c.includes(2)&&(u.pin_is_shop_the_look=!0),c.includes(1)&&(u.is_available=!0),c.includes(5)&&(u.is_product_pin_v2=!0),c.includes(6)&&(u.is_rich_product_pin=!0),c.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,a.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const n=(0,r.Z)({pin:e});var p;if(n)u.image_count=null===(p=n.carousel_slots)||void 0===p?void 0:p.length,u.image_index=n.index}null!=e&&null!==(i=e.rich_summary)&&void 0!==i&&null!==(t=i.products)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const h=e.aggregated_pin_data||{};return null!=h&&h.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const n=JSON.stringify(e);return"{}"!==n?{commerce_data:n}:null}const v=(e,n={})=>{if(e){return g(f(e,n))}return null}},622263:(e,n,i)=>{function t(e){return Boolean(e.promoted_is_removable)}i.d(n,{Z:()=>t})},134413:(e,n,i)=>{i.d(n,{A6:()=>d,BS:()=>s,EC:()=>r,FC:()=>t,_5:()=>l,m9:()=>a,z9:()=>o});const t=424,o=800,r=508,a=424,s=278,l=640,d=508},813973:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(740049);async function o({filename:e,imgSrc:n,imageDownloadSuccessCallback:i,category:o,isUnauth:r,pinId:a,viewParameter:s,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,t.My)(`web.${r?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:a,view_type:l||3,view_parameter:s||139}),n&&document?fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((n=>{var t,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==i||i()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},902339:(e,n,i)=>{i.d(n,{Z:()=>c});var t=i(667294),o=i(40142),r=i(518378),a=i(710159),s=i(724207);var l=i(883119),d=i(785893);function c({favorited:e,favoriteCount:n,isCloseupButton:i,onFavorite:c,onUnfavorite:u,pinId:p,size:h}){const _=(0,a.ZP)(),m=(0,o.useDispatch)(),[f,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)(e),[x,b]=(0,t.useState)(null!=n?n:0),S=async()=>{var e;y(!v),g(!0),v?(b(x-1),await m((e=p,async n=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),n(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),g(!1)):(b(x+1),await m(function(e){return async n=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),n(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(p)),c(),g(!1))},P=x<10?x:_._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==n&&x>0&&(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:P}),(0,d.jsx)(r.Z,{isCloseupButton:i,isDisabled:f,isFavorited:v,onTap:()=>{S()},size:h})]})}},518378:(e,n,i)=>{i.d(n,{W:()=>s,Z:()=>l});var t=i(710159),o=i(883119),r=i(785893);const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:n,isFavorited:i,onTap:l,size:d}){const c=(0,t.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:i?s:a,disabled:n,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:n,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:i?s:a,size:d})})}},277243:(e,n,i)=>{function t(e){const n=e.split("/");return[n[2],n[1]]}function o(e,n){return!e||!e.some((e=>e.pin_type===n))}i.d(n,{E:()=>o,J:()=>t})},715342:(e,n,i)=>{i.d(n,{H1:()=>d,HW:()=>r,iL:()=>l,pN:()=>s,s_:()=>a});var t=i(456168),o=i(112978);const r=new Date(2022,1,1);function a(){const e=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,i=(0,o.tc)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||n||i}function s({isOwnPin:e,isStoryPin:n,pinCreationDate:i,surface:a}){const s=(0,t.Z)(),l=(0,o.tc)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===a&&n&&i&&i.getTime()>=r.getTime()&&l&&s.isPartner&&e,c=(0,o.aq)("web_ip_plays",!!d).anyEnabled,u=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),p=(0,o.tc)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===a&&n&&i&&i.getTime()>=r.getTime()){if(s.isPartner)return e&&c||!e&&u;if(p().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:n}){const i=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(t&&!n||i&&n))}function d({isOwnPin:e,isPartner:n}){const i=(0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(i&&n||t&&!n))}},238098:(e,n,i)=>{i.d(n,{G7:()=>_,ZP:()=>p,_E:()=>h,l6:()=>m,rh:()=>u});var t=i(620831),o=i(377097),r=i(628885),a=i(123686),s=i(721237),l=i(883119),d=i(785893);const c=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function u(e,n,i){var r,a,l;if(!n.isAuth)return!1;const d=(0,s.Nc)(e)||(0,s.o)(e),u=(null===(r=e.board)||void 0===r?void 0:r.privacy)===t.Z.BoardPrivacy.PUBLIC,p=(null===(a=e.board)||void 0===a?void 0:a.privacy)===t.Z.BoardPrivacy.PROTECTED,h=(c(i)&&p||u)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===n.id,{isStoryPin:_}=(0,o.Z)(e);return d&&(!p||c(i))||n.isPartner&&h||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(i)&&_&&h||(0,s.pU)(e)}function p({isVideo:e,isStoryPin:n,i18n:i,showPublicPinStats:t,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:i._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:i._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:n?t?[{align:"start",displayText:i._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:i._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"},{align:"center",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:i._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function h(e,n,i,t){const{isStoryPin:r,isVideo:c}=(0,o.Z)(e),u=(0,s.Nc)(e),p=(0,s.o)(e)&&(r||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,h=new Date(e.created_at),_=(new Date).getTime()-h.getTime(),m=Math.floor(_/36e5),f=p?p["24h_realtime"].is_realtime:null,g=p?p["24h_realtime"].timestamp:null;let v=null;p&&(v=r||c?p.all_time_realtime.timestamp:p["30d_realtime"].timestamp);const y=v!==g,x=e=>(0,a.nk)(i._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),b={timeframe:"",lastUpdated:""};if(p)if(f){const e=p["24h_realtime"].impression>=(r||c?p.all_time_realtime.impression:p["30d_realtime"].impression);b.timeframe=e?i._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):r||c?i._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):i._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=i._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(y||m>48)if(r||c){const e=t(p.all_time_realtime.timestamp);b.timeframe=i._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),b.lastUpdated=x(e)}else{const e=t(p["30d_realtime"].timestamp);b.timeframe=i._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),b.lastUpdated=x(e)}else{const e=t(p["24h_realtime"].timestamp);b.timeframe=i._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),b.lastUpdated=x(e)}else b.lastUpdated=i._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,d.jsxs)(l.xu,{alignItems:r||"lg"!==n?"center":void 0,display:r||"lg"!==n?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"sm",children:b.lastUpdated}),(r||["md","sm"].includes(n))&&!!p&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"sm",children:" ãƒ»"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"sm",children:b.timeframe})]})}function _(e,n){return(0,r.Z)(n.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function m(e,n){return(0,r.Z)(n.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},8858:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(667294),o=i(539195),r=i(713751);function a(e,n){const{logContextEvent:i}=(0,o.v)(),{componentType:a,contextLogData:s,viewParameter:l,viewType:d}=(0,r.E)(),{aux_data:c,view_type:u,view_parameter:p,component:h,..._}=null!=n?n:{};return(0,t.useCallback)((()=>{i({event_type:e,view_type:u||d,view_parameter:p||l,component:h||a,..._,aux_data:{...c,...s}})}),[i,c,_,p,u,h,a,s,e,l,d])}},187828:(e,n,i)=>{i.d(n,{X:()=>o,Z:()=>r});var t=i(667294);const o=120;function r(e,n=0,i=o){const[r,a]=(0,t.useState)(e?"active":"inactive");return(0,t.useEffect)((()=>{if(!e){const e=setTimeout((()=>a("inactive")),i);return()=>{clearTimeout(e)}}if(n){const e=setTimeout((()=>a("active")),n);return()=>{clearTimeout(e)}}a("active")}),[e]),r}},713751:(e,n,i)=>{i.d(n,{B:()=>o,E:()=>r});var t=i(487889);const{Provider:o,useHook:r}=(0,t.Z)("trackingParametersContext")},599797:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(741012),o=i(531572),r=i(462319),a=i(20814),s=i(883119),l=i(112978),d=i(539195),c=i(713751),u=i(785893);function p({sizing:e="default",children:n,collageChipId:i,componentType:p,contextLogData:h,elementType:_,pin:m,viewParameter:f,viewType:g}){const{logContextEvent:v}=(0,d.v)(),y=(0,c.E)(),{group:x}=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:b,id:S}=m;let P,T=`/pin/${i||S}/`;if(b){const{carousel_slots:e=[],id:n,index:i=0}=b;T=`/pin/${S}/`,P={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:n,carousel_slot_index:i}}P={...P||{},...(0,o.Kl)(m,h)||{}};const w=(0,t.Z)({href:T,externalData:{auxData:P,pin:m}});return(0,u.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),(()=>{if(v({event_type:101,component:p||y.componentType,element:_,object_id_str:S,view_type:g||y.viewType,view_parameter:f||y.viewParameter,aux_data:{...h,...(0,o.Kl)(m,h)||{}}}),v({event_type:8948,view_type:g||y.viewType,view_parameter:f||y.viewParameter,component:p||y.componentType,element:_,object_id_str:S,aux_data:{closeup_navigation_type:"click",...h,...(0,o.Kl)(m,h)||{}}}),x){const e=Number(a.y7.getItem(r.J)||0);a.y7.setItem(r.J,e+1)}})(),w({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:T,role:"link",children:n})}},875410:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(599797),o=i(883119),r=i(785893);const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:n}){const{aggregated_pin_data:i}=e,{pin_tags_chips:s}=i||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:l.map((i=>{var s,l,d,c;const u=(null===(s=i.images)||void 0===s?void 0:s["750x"])||{},p=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(d=u.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=u.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,r.jsx)(t.Z,{sizing:"fullSize",collageChipId:i.id,pin:e,children:p}):p})})})},i.id)}))})}},805251:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(883119),o=i(785893);function r({children:e,additionalStyles:n={}}){return(0,o.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...n}},children:e})}},670641:(e,n,i)=>{i.d(n,{F:()=>s,Z:()=>l});var t=i(58545),o=i(883119),r=i(785893);const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,t.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:n}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"inverse",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:n})})})})}},606348:(e,n,i)=>{i.d(n,{Z:()=>v});var t=i(667294),o=i(647136),r=i(710159),a=i(883119),s=i(785893);function l(e){const n=(0,r.ZP)(),{onHide:i}=e,t=(0,s.jsx)(a.xv,{children:n._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,s.jsx)(o.ZP,{onHide:i,text:t})}var d=i(724207),c=i(456168),u=i(358142);const p=function({anchor:e,onDismiss:n,pinId:i,signals:o}){const p=(0,r.ZP)(),[h,_]=(0,t.useState)(0),m=(0,c.Z)(),{showOneToast:f}=(0,u.F9)();if(!m.isEmployee)return null;const g=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:v,icon_url:y,signal_id:x,signal_message:b}=o[h];return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(a.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(a.mQ,{activeTabIndex:h,onChange:({event:e,activeTabIndex:n,dangerouslyDisableOnNavigation:i})=>{i(),(({activeTabIndex:e,event:n})=>{n.preventDefault(),_(e)})({activeTabIndex:n,event:e})},tabs:g})}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(a.X6,{size:"sm",children:p._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,s.jsx)(a.xu,{paddingY:3,children:(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,s.jsx)(a.Ee,{alt:p._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},height:40,width:40})}),(0,s.jsx)(a.xv,{size:"md",children:b})]})}),(0,s.jsx)(a.xu,{marginBottom:3,children:(0,s.jsx)(a.xv,{size:"md",children:p._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:p._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:i,signal_id:x,user:m.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),n(),f((({onHide:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:p._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:n})]})]})})})};var h=i(628613),_=i(53930),m=i(741874),f=i(179869);function g({signals:e,pinId:n}){const{background_color:i,icon_url:o,signal_message:r}=e[0],[l,d]=(0,t.useState)(!1),c=(0,t.useRef)();return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(_.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(m.Z,{children:(0,s.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(f.q,{children:({hovered:e,onMouseEnter:n,onMouseLeave:t})=>(0,s.jsx)(a.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:n,onMouseLeave:t,children:(0,s.jsxs)(a.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,s.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(a.Ee,{alt:"",color:i,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(a.xv,{color:"inverse",size:"md",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,s.jsx)(p,{anchor:c.current,onDismiss:()=>d(!1),pinId:n,signals:e})]})}function v({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:n,deb_ads:i,deb_content_quality:t,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return i?(0,s.jsx)(g,{pinId:n,signals:i}):t?(0,s.jsx)(g,{pinId:n,signals:t}):o?(0,s.jsx)(g,{pinId:n,signals:o}):r?(0,s.jsx)(g,{pinId:n,signals:r}):a?(0,s.jsx)(g,{pinId:n,signals:a}):null}},932937:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(883119),o=i(187828),r=i(785893);function a(e,n){return{hidden:{opacity:0,transition:n?`opacity ${n}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:n=0,fadeOutDuration:i=o.X,visibility:s}){return"none"!==s&&e?(0,r.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:a(n,i)[s]},children:e}):null}},128240:(e,n,i)=>{i.d(n,{ZP:()=>f});var t=i(667294),o=i(805251),r=i(710159),a=i(834375),s=i(903997),l=i(539195),d=i(883119),c=i(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},p={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},h={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},_=["followed","related","search"],m=["pfy","pfyBoard"];function f({feedbackType:e,isHomefeedTunerVariantExp:n,pin:i,hideContents:f=!1}){var g;const{logContextEvent:v}=(0,l.v)(),y=(0,r.ZP)(),[x,b]=(0,t.useState)(!1),[S,P]=(0,t.useState)(!1);(0,t.useEffect)((()=>b(!0)),[]);const T=()=>P(!0),{feedbackText:w,images:I,showFeedbackOverlay:E,undoAction:R,undoText:C}=i,O=I&&(null===(g=I["236x"])||void 0===g?void 0:g.url),{image:k,subTitle:j,title:N,unfollow:A}=null!=w?w:{},D=!_.includes(e),B=m.includes(e),L=()=>{v({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[O&&(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...x?u.blurred:{},backgroundImage:`url("${O}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...p.base,...p.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...h.base,...!E&&x?h.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!f&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"white",size:"sm",children:N})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[k&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:k.width,height:k.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:j||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k.url||""})})}),(0,c.jsx)(d.xv,{color:"inverse",overflow:"normal",children:j})]}),n?(0,c.jsxs)(t.Fragment,{children:[R&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:R,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!R&&!S&&A&&!B&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(A.action,A.actionOptions,T),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),D&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:L,text:y._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(d.xu,{children:D&&(0,c.jsx)(d.rU,{href:"/edit",onClick:L,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!R&&!S&&A&&!B&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(A.action,A.actionOptions,T),text:y._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),R&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:R,text:C||y._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},408479:(e,n,i)=>{i.r(n),i.d(n,{default:()=>g});var t=i(667294),o=i(40142),r=i(369870),a=i(230555),s=i(203695),l=i(819086),d=i(710159),c=i(8858),u=i(11874),p=i(8720),h=i(378351),_=i(713751),m=i(883119),f=i(785893);function g({feedbackData:e,feedbackType:n,pin:i,pinTitle:g,setForcePrimary:v,transparentBackground:y}){const x=(0,d.ZP)(),b=(0,o.useDispatch)(),{viewParameter:S,viewType:P}=(0,_.E)(),{reportPin:T}=(0,h.f)(),[w,I]=(0,t.useState)(!1),[E,R]=(0,t.useState)(),{ad_match_reason:C,show_ad_reasons:O,board:k,category:j,description:N,id:A="",images:D,is_promoted:B,pinner:L,promoter:Z,recommendation_reason:M,source_interest:G,videos:U}=i;var F;const V=(F=B?60:50,function(e){return(0,l.ZP)((e||"").trim(),F)})(null!=N?N:""),H=(0,r.Z)(D,"236x"),z=(0,p.iR)(U),W=(0,c.Z)(101,{component:0,element:981,object_id_str:A,aux_data:{feedback_type:n}}),Y=()=>{O||(v(!1),b((0,u.i0)(A)),I(!1))};return(0,f.jsxs)(t.Fragment,{children:[(0,f.jsx)(m.xu,{"data-test-id":"feedback-button",ref:R,children:(0,f.jsx)(m.hU,{accessibilityLabel:x._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{w?Y():(v(!0),I(!0)),W()},size:"sm"})}),w&&(0,f.jsx)(m.xu,{onFocus:e=>e.stopPropagation(),children:(0,f.jsx)(s.Z,{anchor:E,ad_match_reason:C,bestPinImgSrc:(0,a.Z)(i),board:k,feedbackData:e,feedbackType:n,hideDownload:z,isPromoted:B,onLinkClick:()=>{w&&Y()},onDismiss:Y,onHide:Y,onDownloadHideFlyout:()=>{v(!1),I(!1)},pinCategory:j,pinDescription:V,pinId:A,pinImgSrc:H,pinner:L,pinTitle:g,promoter:Z,recommendationReason:M,reportPin:()=>T(i,S,P),sourceInterest:G,viewParameter:S,viewType:P})})]})}},203695:(e,n,i)=>{i.d(n,{Z:()=>Z});var t=i(667294),o=i(40142),r=i(144977),a=i(883119),s=i(785893);function l({iconAccessibilityLabel:e,icon:n,linkAccessibilityLabel:i,showNavigationIcon:t,text:o}){return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(r.Z,{id:"ad-reason-icon",children:(0,s.jsx)(a.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,s.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{children:o})}),t&&i&&(0,s.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(a.JO,{accessibilityLabel:i,color:"darkGray",icon:"arrow-forward"})})]})}var d=i(916389),c=i(632589),u=i(710159),p=i(123686),h=i(539195);const{ACCOUNT_SETTINGS:_,CANONICAL_MAIN_URL:m,HELP_BLOCKING:f,HELP_PROMOTED_PINS_URL:g}=c.Z.settings;function v({onDismiss:e,brandName:n,country:i,language:t,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:v,isGeoPostalCodeMatched:y,isGeoRegionMatched:x,isShoppingTargetingRematched:b}){const{logContextEvent:S}=(0,h.v)(),P=(0,u.ZP)();return(0,s.jsx)(d.ZP,{accessibilityModalLabel:P._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,s.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(a.xu,{position:"absolute",left:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:P._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(a.X6,{align:"center",size:"md",children:P._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,s.jsxs)(a.xu,{children:[(0,s.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{children:(0,p.nk)(P._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{href:g,inline:!0,onClick:()=>{S({event_type:101,component:13756,element:12057})},target:"blank",children:P._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(P._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(r.Z,{id:"ad-reasons",children:(0,s.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[y||x?(0,s.jsx)(a.iP,{role:"link",href:`${m}${_}`,onTap:()=>{S({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:P._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:P._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,p.nk)(P._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name"),language:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:P._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,p.nk)(P._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-age-brand-name")})}),c&&(0,s.jsx)(l,{iconAccessibilityLabel:P._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:P._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),b&&(0,s.jsx)(l,{iconAccessibilityLabel:P._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,p.nk)(P._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"retargeting-ad-reason")})}),v&&(0,s.jsx)(l,{iconAccessibilityLabel:P._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,p.nk)(P._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{children:P._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,s.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,s.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(a.iz,{})}),(0,s.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(a.X6,{size:"sm",children:P._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,p.nk)(P._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{inline:!0,href:f,onClick:()=>{S({event_type:101,component:13756,element:12058})},target:"blank",children:P._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var y=i(379771),x=i(456168),b=i(952733);function S({pinId:e,onDismiss:n}){var i,r,a,l;const{logContextEvent:d}=(0,h.v)(),{locale:c}=(0,b.B)(),{country:u=""}=(0,x.Z)(),p=(0,y.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),_=(0,y.Z)({name:"LocalesResource"}),m=(0,o.useSelector)((({pins:n})=>n[e]));(0,t.useEffect)((()=>{d({event_type:120,component:13756})}),[d]);const{ad_targeting_attribution:f,promoter:g}=null!=m?m:{},{is_age_matched:S=!1,is_behavior_targeting_matched:P=!1,is_customer_list_matched:T=!1,is_geo_postal_code_matched:w=!1,is_geo_region_matched:I=!1,is_shopping_retargeting_matched:E=!1}=null!==(i=function(e=null,n=4){return e&&Object.keys(e).filter((n=>"boolean"==typeof e[n])).slice(0,n).reduce(((n,i)=>({...n,[i]:e[i]})),{})}(f))&&void 0!==i?i:{},R=null!==(r=null==g?void 0:g.full_name)&&void 0!==r?r:"",C=function(e,n){var i;const{name:t=""}=null!==(i=e.find((e=>e.key===n)))&&void 0!==i?i:{};return t}(null!==(a=p.data)&&void 0!==a?a:[],u),O=function(e,n){var i;const{name:t=""}=null!==(i=e.find((e=>e.key===n)))&&void 0!==i?i:{};return t}(null!==(l=_.data)&&void 0!==l?l:[],c);return(0,s.jsx)(v,{brandName:R,country:C,language:O,isAgeMatched:S,isBehaviorTargetingMatched:P,isCustomerListMatched:T,isGeoPostalCodeMatched:w,isGeoRegionMatched:I,isShoppingTargetingRematched:E,onDismiss:n})}var P=i(248240),T=i(813973),w=i(394465),I=i(30813),E=i(887196),R=i(879268),C=i(778423),O=i(656831),k=i(716975),j=i(11874),N=i(834375),A=i(855168);function D(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}const B={color:"white",textDecorationColor:"white"};class L extends t.Component{constructor(e){super(e),D(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:n,feedbackType:i,pinner:t,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:n,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:t,promoter:o,recommendationReason:r,sourceInterest:a})})),D(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:n,pinner:i,recommendationReason:t}=this.props;if("followed"!==n&&"pfyBoard"!==n)return null;let o,r,l;return i&&i.explicitly_followed_by_me?(o=i.image_small_url,r="50%",l=`/${i.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=t&&t.board&&t.board.url||e.url),o?(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(a.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),D(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:n,pinner:i,sourceInterest:t}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,sourceInterest:t})})),D(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),D(this,"feedbackHelpers",(0,k.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:p.nk})),D(this,"makeNavigateLink",((e,n,i,t)=>{const o={display:"inline",...t?B:{}};return(0,s.jsx)(a.rU,{onClick:this.props.onLinkClick,role:"link",href:n,inline:!0,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o},children:i})},e)})),D(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),D(this,"hidePinOption",(e=>{const{feedbackData:n,feedbackType:i,pinId:t,recommendationReason:o}=this.props,r="search"===i?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:i,pinId:t,recommendationReasonId:o&&o.reason&&C.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===i?4:10,throughId:o&&(0,k.yl)(o),throughProperties:o&&(0,k.XZ)(o),clientTrackingParams:(0,P.Z)(t)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),D(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:n,pinId:i,recommendationReason:t}=this.props,{board:o,reason:r}=null!=t?t:{},a=r&&C.ReasonToChoose[r],s=t&&(0,k.yl)(t),l=t&&(0,k.XZ)(t),d="pfyBoard"===n,{action:c,actionOptions:u}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,P.Z)(i)}),h=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:u,feedbackText:{subTitle:d&&o?(0,p.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,p.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),D(this,"unfollowBoardOption",(()=>{var e,n;const{board:i}=this.props,t=i?this.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(n=i.name)&&void 0!==n?n:"",!0):"",o=(0,p.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==i?void 0:i.name}),r=(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==i?void 0:i.name}),elementType:10614}})),D(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:n,name:i="",url_name:t=""}=e,o=`/topics/${t}`,r=this.makeNavigateLink("topicUrl",o,i,!0),a=(0,p.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:i}),s=(0,p.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:R.X},feedbackText:{title:"",subTitle:s},text:a,description:(0,p.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),D(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:n,username:i,full_name:t}=null!=e?e:{},o=`/${i}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=t?t:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:n},feedbackText:{title:"",subTitle:(0,p.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,p.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:t}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),D(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),D(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:n,hideDownload:i,pinner:t}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===n)&&!r,s=this.hidePinOption(a),l=this.reportPinOption(),d="promoted"!==n&&!i;switch(n){case"followed":const e=r,i=!e&&this.getRecommendationDescription(),o=null!=t&&t.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[s,...a||e?[o]:[],..."promoted"!==n?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:u}=this.props,p=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{u(c)}},l];return{description:this.getRecommendationDescription(),options:p};case"topic":const h=this.unfollowTopicOption(),_=[s,...a&&h?[h]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:_};case"pfy":case"pfyBoard":const m=[s,..."pfyBoard"===n?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};default:const f=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:f}}})),D(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:n,promoter:i}=this.props,t=e?null:this.getUnfollowAction();return n&&null!=i&&i.full_name?{title:"",subTitle:(0,p.nk)(this.props.i18n._("{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.","webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle","Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin."),{promoter:i.full_name})}:t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const n=this._pinFeedbackText();this.state={pinFeedbackConfig:n,showSecondary:!1}}onPinFeedbackActionButtonClick(e,n,i){e.stopPropagation(),n.auxData?this.handleClickLogging(n.elementType,n.auxData):this.handleClickLogging(n.elementType),(0,N.t)(n.action,n.actionOptions,i)}onPinHide(e,n,i,t){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:u,logContextEvent:p}=this.props;n&&i&&t?d(a,e,(0,k.EF)(i,t,a,u,c,o,p),this.getUndoText(t)):s(a,e),!i||i.promoted||10!==i.feedback_type&&4!==i.feedback_type?r():(this.setState({showSecondary:!0}),l(a))}handleClickLogging(e,n={}){const{feedbackType:i,viewParameter:t,viewType:o,logContextEvent:r}=this.props;r({event_type:101,view_type:o,view_parameter:t,element:e,component:(0,k.nb)(i),aux_data:{...n}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:n,pinId:i,viewType:t,viewParameter:o,logContextEvent:r,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:c}=d,u=[],p=c.length;for(let h=0;h<p;h+=1){const d=c[h],p=N.P.includes(d.action),_=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,p,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,w.Z)({url:d.link||""});let n="";Array.isArray(d.text)?n=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(n=d.text.toString()),u.push(d.link?(0,s.jsx)(a.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:n},dataTestId:d.dataTestId||""}):(0,s.jsx)(a.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,_),option:{value:d.action||"",label:n},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:c}=this.props;u.push((0,s.jsx)(a.Lt.Item,{onSelect:()=>{(0,T.Z)({category:c,filename:l||d,imageDownloadSuccessCallback:()=>{n&&n()},imgSrc:e,pinId:i,viewParameter:o,viewType:t},r)},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:n}=this.state,{anchor:i,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:u,recommendationReason:p,showAdReasons:h,viewParameter:_,viewType:m}=this.props,{description:f}=e,g=this.getRecommendationDescriptionImage();return(0,s.jsxs)(t.Fragment,{children:[n?(0,s.jsx)(I.Z,{anchor:i,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:u,recommendationReason:p,viewParameter:_,viewType:m}):(0,s.jsx)(a.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:E.lI,headerContent:f&&(0,s.jsxs)(a.kC,{alignItems:"center",children:[(0,s.jsx)(a.xu,{"data-pin-recommendation-reason":null==p?void 0:p.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(a.xv,{color:"default",overflow:"normal",size:"md",children:f})}),g]}),children:this.renderButtons()}),h&&(0,s.jsx)(S,{onDismiss:()=>d(c),pinId:c})]})}}const Z=(0,o.connect)(null,(e=>({hidePinFeedback:n=>e((0,j.I1)(n)),showPinFeedback:(n,i)=>e((0,j.ZP)(n,i)),showPinFeedbackOverlay:n=>e((0,j.Ib)(n)),showPinFeedbackUndo:(n,i,t,o)=>e((0,j.NA)(n,i,t,o)),showAdReasonsModal:n=>e((0,j.b9)(n)),hideAdReasonsModal:n=>e((0,j.yj)(n))})))((function(e){const{logContextEvent:n}=(0,h.v)(),i=(0,u.ZP)(),{ad_targeting_attribution:t,show_ad_reasons:r=!1}=(0,o.useSelector)((({pins:n})=>n[e.pinId])),a=(0,O.kf)();return(0,s.jsx)(L,{...e,showAdReasons:r,adTargetingAttribution:t,history:(0,A.k6)(),i18n:i,isWindowsPwa:a,location:(0,A.TH)(),logContextEvent:n})}))},30813:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(710159),o=i(834375),r=i(883119),a=i(887196),s=i(123686),l=i(778423),d=i(539195),c=i(716975),u=i(785893);function p({anchor:e,feedbackData:n,feedbackType:i,pinId:p,onDismiss:h,onHide:_,recommendationReason:m,viewParameter:f,viewType:g}){const{logContextEvent:v}=(0,d.v)(),y=(0,t.ZP)(),x=(0,c.ZP)({i18n:y,interpolateNamedTemplate:s.nk}),b=(e,t)=>{const r=m&&m.reason&&l.ReasonToChoose[m.reason],a=m&&(0,c.yl)(m),s=m&&(0,c.XZ)(m),{action:d,actionOptions:u}=x.getHidePinAction({feedbackData:n,feedbackType:i,pinId:p,recommendationReasonId:r,throughId:a,throughProperties:s,complaintReason:e});(e=>{v({event_type:101,view_type:g,view_parameter:f,element:e,component:(0,c.nb)(i)})})(t),(0,o.t)(d,u),_()},S="promoted"===i?[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:y._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:y._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:y._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:y._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:y._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:h,zIndex:a.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:y._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:S.map((({text:e,reason:n,elementType:i})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>b(n,i),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},98775:(e,n,i)=>{i.d(n,{Z:()=>h});var t=i(667294),o=i(294184),r=i.n(o),a=i(443109),s=i(394465),l=i(514183),d=i(710159),c=i(883119),u=i(785893);class p extends t.Component{constructor(...e){var n,i,t;super(...e),t={showBoardName:!1},(i="state")in(n=this)?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:n,isNewlySaved:i,name:o,shouldUseLegoStyles:d,type:p,url:h}=this.props;if(d&&n)return null;const _="boardless"===p?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):o;let m,f;if(!i||e||d){const e=d?(0,u.jsx)(c.xv,{color:"inverse",size:"lg",weight:"bold",children:_.length<=20?_:(0,l.Z)(_,20)}):(0,u.jsx)(c.X6,{color:"white",size:"sm",lineClamp:1,children:_}),n=(0,s.Z)({url:h})?"nofollow":"none";m=h?(0,u.jsx)(c.rU,{rel:n,href:h,children:e}):e}else m=(0,u.jsx)(c.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return i&&(f=e?"board":"saved"),(0,u.jsxs)(t.Fragment,{children:[(0,u.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!d&&r()("SavedAnimation",f),children:m})]})}}const h=function(e){const n=(0,d.ZP)();return(0,u.jsx)(p,{...e,i18n:n})}},285392:(e,n,i)=>{i.d(n,{Y:()=>s,Z:()=>u});var t=i(710159),o=i(539195),r=i(883119),a=i(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},c={component:13668,view_type:4,view_parameter:3106};function u({pinId:e,surface:n}){const{logContextEvent:i}=(0,o.v)(),u=(0,t.ZP)(),p=()=>{const e=s.includes(n)?c:"BaseBoardPinGrid"===n?d:"UserProfilePinGrid"===n?l:{};i({event_type:101,element:10573,...e})},h=u._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(n)?(0,a.jsx)(r.zx,{role:"link",accessibilityLabel:u._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:p,size:"sm",text:(_=h,_.length>14?`${_.substring(0,12).trim()}...`:_)}):(0,a.jsx)(r.hU,{role:"link",accessibilityLabel:u._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:p,size:"sm"})});var _}},588028:(e,n,i)=>{function t(e,n){const i=n&&n.owner&&n.owner.id;return e.isAuth&&i===e.id}i.d(n,{Z:()=>t})},238235:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(475559);function o(e){return t.zI.includes(e)}},578895:(e,n,i)=>{i.d(n,{Z:()=>oe});var t=i(667294),o=i(40142),r=i(235198),a=i(377097),s=i(475559);function l({isGroupBoard:e,pin:n,surface:i}){const{carousel_data:t,grid_title:o,rich_summary:r,title:l}=n,{isOwnPin:d,isPromoted:c}=(0,a.Z)(n);if(t){const{carousel_slots:e=[],index:n=0}=t;if(e[n]&&e[n].title)return e[n].title.trim()}if(c){if(s.ZF.includes(i))return o||"";if(d&&!e&&!t&&"UserProfilePinGrid"!==i)return"";const n=r&&"mobile application"!==r.type_name&&r.display_name;return l||n||o||""}return o||""}var d=i(8720);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=i(706713),p=i(235744),h=i(238098);const _=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m({attributionOption:e,board:n,contentType:i,experimentsClient:t,feedbackData:o,feedbackType:r,hasCarouselData:s,inMsgPinCardUpdateExp:d=!1,isGroupBoard:c,isORBACProfileManager:m,isOwnBoard:f,pin:g,searchResultNewIdeaPinStyle:v=!1,showImageOnly:y,showNativeReactions:x,showPromotedShoppingPrice:b,surface:S,viewer:P}){var T;const{isPromoted:w,isSponsored:I}=(0,a.Z)(g),{pin_note:E}=g,R=function({attributionOption:e,feedbackType:n,isGroupBoard:i,pin:t,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:a=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:c,story_pin_data_id:u}=t;if("promoted"===n||d&&!s||c)return"default";if((!a||"ConversationView"!==r)&&_.includes(r))return"none";if(i)return"none";let p="default";return"SearchItem"===r&&u?p:(e&&("image-only"===e?p="image-only-credit":"hide"===e&&(p="none")),"followed"!==n||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?p:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":p)}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:g,showImageOnly:y,surface:S,inMsgPinCardUpdateExp:d}),C=y?"":l({isGroupBoard:c,pin:g,surface:S}),O=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!w&&!y&&Boolean((0,u.Z)(g,S)),k=["ShoppingGridShippedMetadataWithVisitButton"].includes(S),j="BaseBoardPinGrid"===S&&E?null===(T=E.text)||void 0===T?void 0:T.trim():null,N=w,A="shopping"===i,D=/ShoppingSquareGridRelatedProducts/.test(S);let B=2;w?B=3:(O||"none"!==R)&&(B=A||D?2:1);let L,Z,M,G;if(A||(w&&D||b)){var U,F;const e=null===(U=g.rich_summary)||void 0===U||null===(F=U.products)||void 0===F?void 0:F[0],{offer_summary:n}=e||{};L=n?n.standard_price:void 0,Z=n?n.price||n.max_price:void 0}if(A&&!w){var V,H,z;const{rating_count:e,rating_value:n,review_count:i}=(null===(V=g.rich_summary)||void 0===V?void 0:V.aggregate_rating)||{};(e||i)&&parseFloat(n)&&(M={count:e||i,rating:n}),G=null===(H=g.rich_metadata)||void 0===H||null===(z=H.products)||void 0===z?void 0:z[0].shipping_info}const W=(0,h.rh)(g,P,t),Y="CreatorProfileStoryPinGrid"!==S&&"CreatorProfileActivityPinGrid"!==S,$=c&&!I;return{attributionDisplay:v?"overlay":"default",attributionType:R,board:n,contentType:i,feedbackData:o,feedbackType:r,pinNoteText:j,pinTitle:C,productCurrentPrice:Z,productOriginalPrice:L,productRating:M,productShipping:G,reactionAlignment:v?"center":"start",showCarouselEllipsis:s,showFavoriteButton:!m&&("BaseBoardPinGrid"===S&&f||Boolean((null==n?void 0:n.is_collaborative)&&(0,p.Z)({board:n,viewer:P}))),showGroupBoardAvatar:$,showNativeReactions:x,showOverflowMenu:N,showPinStats:W,showSource:O,showTextContent:Y,showTitle:!v,showVerifiedIcon:!!v,showVisitSiteButton:k,titleLines:B}}var f=i(620831),g=i(982844),v=i(20814),y=i(134413),x=i(388481);const b=["ShoppingCatalogsProductsMetadata"];const S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],P=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var T=i(588028),w=i(53930),I=i(866104),E=i(497959),R=i(629037),C=i(584230),O=i(22192),k=i(622263),j=i(309892),N=i(238235),A=i(741874),D=i(710159),B=i(625983),L=i(385894),Z=i(456168),M=(i(883119),i(285392)),G=i(483050),U=i(251890),F=i(406335),V=i(4216),H=i(713751),z=i(727853),W=i(673504),Y=i(715342),$=i(227447),q=i(49231),X=i(670641),K=i(112978),J=i(907683),Q=i(855168),ee=i(785893);const ne=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(15833),i.e(92982)]).then(i.bind(i,755255)))),ie=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],te=["BaseBoardPinGrid","UserProfilePinGrid",...M.Y];const oe=(0,o.connect)((function({boards:e,pins:n},{pin:i,pinId:t}){const o=n[t]||i,r=o.board&&o.board.id,a=(r?e[`${r}`]:void 0)||o.board;return o.grid_title=o.grid_title||i.grid_title,{board:a,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:n,board:i,debugImpressionState:u,feedbackOptions:p,imageOnlyOption:_="default",pinImageCrop:M,pinImageFit:oe,reduxPin:re,resolution:ae="default",saveButtonOptions:se,surface:le,trackingParameters:de,...ce}){var ue,pe;const he=(0,D.ZP)(),_e=(0,W.Y)(),{collaborated_by_me:me,collaborator_count:fe,is_collaborative:ge}=i||{},{is_quick_promotable:ve,pinner:ye,showFeedback:xe,sponsorship:be,story_pin_data_id:Se}=re,{isPromoted:Pe}=(0,a.Z)(re),Te=(0,k.Z)(re),we=(0,Z.Z)(),Ie=(0,B.Z)(),{anyEnabled:Ee}=(0,K.tc)("web_m10n_business_access_orbac_beta_2")(),Re=(0,K.tc)("dweb_search_results_idea_attribution"),{group:Ce}="SearchItem"===le?Re():{},Oe=!!Se&&["enabled_blended","enabled_idea","employees"].includes(Ce),ke=(0,Q.TH)(),{slotIndex:je,viewParameter:Ne}=de,{anyEnabled:Ae}=(0,K.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(le)),De=(0,$.x)(),{appUI:{videosAutoplaying:Be}}=(0,z.I)(),Le=(0,U.i8)(re.id,Be),Ze=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Me=(0,O.Z)(re),Ge=(0,R.Z)(re),Ue=we.isAuth&&we.isEmployee,Fe=we.isAuth&&((0,C.Z)(null,we)||(0,j.Z)(null,we))&&!we.isPartner;let Ve=Fe;"TodayArticleFeed"===le&&(Ve=!1),"default"!==_&&(Ve="image-only"===_),(0,N.Z)(le)&&(Ve=!1),"ShoppingSquareGridDomainNoMetadata"===le&&(Ve=!0),Pe||Se||!["enabled_blended","employees"].includes(Ce)||(Ve=!0);let He=e;Fe&&!He&&(He="image-only");const ze=(0,E.Z)({feedbackOptions:p,pin:re,viewParameter:Ne},he),{data:We}=p||{},Ye="number"==typeof fe&&fe>0||ge;let $e=!1;"OtherProfilePinGrid"===le?$e=!0:"BaseBoardPinGrid"===le?$e="dense"===(null==De?void 0:De.boardPinDensity):"UserProfilePinGrid"===le&&($e="dense"===(null==De?void 0:De.profilePinDensity));const qe=Boolean(Ye&&"BaseBoardPinGrid"===le),Xe=(0,L.Z)(),Ke=(0,o.useSelector)((({users:e})=>{var n,i,t,o;return e&&e[null!==(n=null===(i=Xe.data)||void 0===i?void 0:i.id)&&void 0!==n?n:""]?e[null!==(t=null===(o=Xe.data)||void 0===o?void 0:o.id)&&void 0!==t?t:""]:Xe.data})),Je=(0,T.Z)(we,i);let Qe=!1;if(!!(0,Q.LX)(ke.pathname,{path:"/:username/_created/",exact:!0}))Qe=(0,F.q6)(we,null==Ke?void 0:Ke.id,Ie);else if((0,J.am)(ke)||(0,J.OJ)(ke)){const e=i&&i.owner&&i.owner.id||"";Qe=(0,F.q6)(we,e,Ie)}const en=Boolean(we.isAuth&&ye&&ye.id===we.id),nn=Boolean(me||Ye&&Je),tn=we.isAuth&&we.isPartner,on=(0,K.aq)("web_deleted_idea_pins",!(null===(ue=re.story_pin_data)||void 0===ue||!ue.is_deleted)).anyEnabled,rn=(0,t.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:n,surface:i}){const t={primaryContent:null,secondaryContent:null,actionBar:P.includes(i)||n?"none":"visible",accessoryContent:e?"visible":"none"};return n||S.includes(i)?(t.primaryContent="none",t.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(t.primaryContent="visible"),t}({hasCarouselData:Ge,isDeletedStoryPin:on,surface:le})),[Ge,on,le]),an=(0,t.useMemo)((()=>function({board:e,isDenseView:n,isGroupBoard:i,isInlineBetterSave:t,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:a,isRemovable:l,saveButtonOptions:d,surface:c,viewer:u,viewerIsCollaborator:p}){const h=u.isAuth?u.boardCount:void 0;let _=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(h);a?_={type:"promote"}:(p||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?_={type:"classic"}:(p||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(_={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return t&&(_={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||b.includes(c)||r)&&(_={type:"none"}),{board:e,derivedSaveButtonOptions:_,showLikeButton:p&&i&&s.UP.includes(c),supportsReactionBar:!n}}({board:i,isInlineBetterSave:Ae,isDenseView:$e,isGroupBoard:qe,isOwnBoard:Je,isOwnPin:en,isORBACProfileManager:Qe,isQuickPromotable:ve,isRemovable:Te,saveButtonOptions:se,surface:le,viewer:we,viewerIsCollaborator:nn})),[i,Ae,$e,qe,Je,en,Qe,ve,Te,se,le,we,nn]),{anyEnabled:sn}=(0,K.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let ln;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(le)&&!Pe&&(ln="white");const dn=(0,t.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:n,surface:i}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(i),shoppingLabelColor:n}}({allowProductCarousel:Me,shoppingLabelColor:ln,surface:le})),[Me,ln,le]),cn=(0,t.useMemo)((()=>function({board:e,feedbackData:n,feedbackType:i,isDenseView:t,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:u,isORBACBeta2:p,pin:h,surface:_,viewer:m}){var f;const{isOwnPin:g,isPromoted:v}=(0,a.Z)(h),y=l({isGroupBoard:o,pin:h,surface:_}),x=e&&(0,r.Z)({action:4,board:e,viewer:m})||g,b=h.savedInfo&&h.savedInfo.localPinId,S=Boolean(s&&!o||"UserProfilePinGrid"===_&&x||b),P=Boolean(o&&x||S||u&&(!(0,d.hy)(h)||p)),T=Boolean((null==e?void 0:e.is_collaborative)||S),w=!(v||s||o||c.includes(_)||u),I="CloseupRelatedProducts"!==_&&!u,{tracked_link:E,link:R}=h,C=!(null===(f=null!=E?E:R)||void 0===f||!f);let O=o&&t?"equally-spaced":"default",k="default";return t&&(k=o?"icon-only":"truncated-text"),t&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(_)&&(k="icon-only",O="equally-spaced"),{actionBarEditBeforeShare:T,feedbackData:n,feedbackType:i,layout:O,pinTitle:y,showEditButton:P,showOverflowMenu:w,showShareButton:I,showSourceLinkButton:C,sourceLinkStyle:k}}({board:i,feedbackData:We,feedbackType:ze,isDenseView:$e,isGroupBoard:qe,isOwnBoard:Je,isORBACProfileManager:Qe,isORBACBeta2:Ee,pin:re,surface:le,viewer:we})),[i,We,ze,$e,qe,Je,Qe,Ee,re,le,we]),un=!Qe&&(0,h.rh)(re,we,_e)&&te.includes(le),pn=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(le),hn=!Pe&&pn?"shopping":"standard",_n="CreatorProfileStoryPinGrid"===le?en&&(0,G.J6)(re,on):(0,G.J6)(re,on),mn=(0,K.tc)("web_ag_msg_pin_card_update"),fn="ConversationView"===le&&mn({dangerouslySkipActivation:!0}).anyEnabled,gn=(0,t.useMemo)((()=>m({attributionOption:He,board:i,contentType:hn,experimentsClient:_e,feedbackData:We,feedbackType:ze,hasCarouselData:Ge,inMsgPinCardUpdateExp:fn,isGroupBoard:qe,isORBACProfileManager:Qe,isOwnBoard:Je,pin:re,searchResultNewIdeaPinStyle:Oe,showImageOnly:Ve,showNativeReactions:_n,showPromotedShoppingPrice:sn&&Pe&&pn,surface:le,viewer:we})),[He,i,hn,_e,We,ze,Ge,fn,qe,Qe,Je,Pe,pn,re,Oe,sn,Ve,_n,le,we]),vn=!!re.story_pin_data_id,yn=re.created_at?new Date(re.created_at):null,xn=(0,Y.pN)({isOwnPin:en,isStoryPin:vn,pinCreationDate:yn,surface:le});let bn=Boolean(gn.pinTitle||gn.contentType||gn.userNote||gn.showSource||"none"!==gn.attributionType||gn.showNativeReactions||gn.productCurrentPrice||gn.productOriginalPrice||gn.showPinStats)||qe;"BaseBoardPinGrid"===le&&Je&&tn||be?bn=!0:ie.includes(le)||$e&&(Je||me)?bn=!1:en||"CreatorProfileStoryPinGrid"!==le&&"CreatorProfileActivityPinGrid"!==le||(bn=!1);const Sn=Boolean(xe),Pn=(0,K.tc)("web_others_board_feed_ads_border"),Tn={showNoPinBorderRadius:"TopicBestPinNarrow"===le||"TopicBestPinWide"===le||fn&&"ConversationView"===le,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===le&&Pe&&Pn().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:wn}=(0,K.aq)("hfp_homefeed_control_cta_variants"),In={feedbackType:ze,isHomefeedTunerVariantExp:wn},{anyEnabled:En}=(0,K.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),Rn=(0,t.useMemo)((()=>function({hasCarouselData:e,isDenseView:n,isSocialSeasonalBoard:i,pinImageCrop:t,pinImageFit:o,resolution:r,showPromotedVideos:a,surface:l}){const d=s.zl.includes(l);let c="backend";"CloseupRelatedProducts"===l?c={height:x.GZ,width:x.OE}:"TopicBestPinWide"===l?c={height:y.m9,width:y.BS}:"TopicBestPinNarrow"===l?c={height:y._5,width:y.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?c={height:x.zX,width:x.zX}:t&&(c=t);let u="none",p=null!=r?r:"default";"string"!=typeof c&&(u="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",p="high-res"));const h=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",_=(0,g.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===v.Xb.getItem(f.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:h,imageFit:u,isDenseView:n,isSocialSeasonalBoard:i,resolution:p,rootMargin:_,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:a}}({hasCarouselData:Ge,isDenseView:$e,isPromoted:Pe,isSocialSeasonalBoard:!1,pinImageCrop:M,pinImageFit:oe,resolution:ae,showPromotedVideos:En,surface:le})),[Ge,$e,Pe,M,oe,ae,En,le]),Cn=Ue&&(0,X.F)(),On=(0,t.useMemo)((()=>({debugImpressionState:u,slotIndex:je})),[u,je]);return(0,ee.jsx)(w.Z,{name:"PinRepConfiguration",children:(0,ee.jsx)(H.B,{value:de,children:(0,ee.jsxs)(V.B,{value:{surface:le},children:[(0,ee.jsx)(q.Z,{actionBarProps:cn,blockClickEvents:n,currentlyPlayingVideo:Le,footerProps:gn,impressionsDebuggerProps:On,obscuredPinOverlayProps:In,pin:re,pinVisualProps:Rn,presentationProps:Tn,primaryContentProps:an,secondaryContentProps:dn,showFooter:bn||xn,showImpressionsDebugger:Cn,showObscuredPinOverlay:Sn,showSeeStatsButton:un,showSignalDebugger:Ue,showUnavailablePin:on,surface:le,visibilityOverrides:rn,...(0,I.Z)(ce,["pinId"])}),Ze.shouldOpenModal&&Ze.newPin&&(null===(pe=Ze.originalPin)||void 0===pe?void 0:pe.id)===re.id&&(0,ee.jsx)(w.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ee.jsx)(A.Z,{children:(0,ee.jsx)(ne,{experience:Ze.experience,newPin:Ze.newPin})})})]})})})}))},49231:(e,n,i)=>{i.d(n,{J:()=>Yn,Z:()=>$n});var t=i(667294),o=i(628613),r=i(53930),a=i(377097),s=i(741874),l=i(710159),d=i(952733),c=i(713751),u=i(796629),p=i(67316),h=i(361086);function _(e,n){const{carousel_data:i,domain:t,ad_destination_url:o}=e;let r=t||"";return o&&(r=(0,h.Z)(o).hostname||""),i&&i.id&&(r=function(e,n){const i=n||e&&e.index||0,t=e&&e.carousel_slots||[],o=t[i]&&t[i].link||"";return o&&(0,h.Z)(o).hostname||""}(i,n)),r.replace("www.","")}var m=i(741012),f=i(8858),g=i(531572),v=i(855168),y=i(883119),x=i(785893);const b={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function S({pin:e,sourceLinkStyle:n,surface:i,url:o}){const r=(0,l.ZP)(),[a,s]=(0,t.useState)(!1),{id:d}=e,h=_(e),S=(0,v.TH)(),P=(0,g.Kl)(e)||{},{slotIndex:T}=(0,c.E)(),w=(0,p.Z)(e,S),I=(0,f.Z)(12,{object_id_str:d,clientTrackingParams:w,aux_data:{grid_index:T,...(0,g.Kl)(e)||{}}}),E=(0,f.Z)(101,{element:162,object_id_str:d,clientTrackingParams:w,aux_data:{...(0,g.Kl)(e)||{}}}),R=(0,f.Z)(8948,{object_id_str:d,clientTrackingParams:w,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:T,...(0,g.Kl)(e)||{}}}),C=()=>{I(),E(),R()},O=(0,m.Z)({href:o,target:"blank",externalData:{auxData:P,pin:e,surface:i}});return"icon-only"===n?(0,x.jsx)(y.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),C(),O({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{...b.container,...a?b.containerHovered:Object.freeze({}),..."truncated-text"===n?b.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,x.jsx)(u.Z,{hovered:a,pin:e,slotIndex:T,viewType:1,children:(0,x.jsx)(y.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),C(),O({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,x.jsxs)(y.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:b.text},display:"flex",justifyContent:"between",children:[(0,x.jsx)(y.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,x.jsx)(y.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,x.jsx)(y.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,x.jsx)(y.xv,{color:"default",size:"md",weight:"bold",lineClamp:1,children:h})})]})})})})}const P=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(88299),i.e(95244),i.e(48035)]).then(i.bind(i,270280)))),T=(0,t.lazy)((()=>Promise.resolve().then(i.bind(i,408479)))),w=(0,t.lazy)((()=>i.e(5035).then(i.bind(i,130889))));const I=(0,t.memo)((function({actionBarEditBeforeShare:e,feedbackData:n,feedbackType:i,layout:u,onToggleFlyout:p,pin:h,pinTitle:_,setForcePrimary:m,showEditButton:f,showOverflowMenu:g,showShareButton:v,showSourceLinkButton:b,sourceLinkStyle:I,surface:E}){var R,C;const O=(0,l.ZP)(),k=(0,y.JZ)(),{isRTL:j}=(0,d.B)(),{viewParameter:N,viewType:A}=(0,c.E)(),{carousel_data:D,id:B,savedInfo:L,tracked_link:Z,link:M,ad_destination_url:G}=h,U=null!==(R=null!==(C=null!=G?G:Z)&&void 0!==C?C:M)&&void 0!==R?R:"",{isLeadPin:F}=(0,a.Z)(h),[V,H]=(0,t.useState)(f),[z,W]=(0,t.useState)(f),[Y,$]=(0,t.useState)(f),q={...j?{marginLeft:f&&g?-44:0}:{marginRight:f&&g?-44:0},transition:j?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},X={opacity:Y?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},K={...j?{marginRight:z?4:0}:{marginLeft:z?4:0},transition:j?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,t.useEffect)((()=>{let e;return f&&g?(W(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{H(!0),requestAnimationFrame((()=>{$(!0)}))}))}),800)):(W(f),H(f),requestAnimationFrame((()=>{$(f)}))),()=>{clearTimeout(e)}}),[f,g]);let J=null;b&&(J=(0,x.jsx)(o.Z,{children:F?(0,x.jsx)(y.zx,{role:"button",accessibilityLabel:O._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:O._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,x.jsx)(S,{pin:h,sourceLinkStyle:I,surface:E,url:U})}));const Q=v&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"send-share-link",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(w,{pin:h,setForcePrimary:m})})})})}),ee=Boolean(null==L?void 0:L.localPinId)?null==L?void 0:L.localPinId:B,ne=V&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:k?void 0:{__style:X},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(P,{carouselSlotCurrentIndex:D&&D.index,component:0,onToggleModal:p,pinId:ee,style:{size:"sm"},view:A,viewParameter:N,useLegoStyles:!0})})})})});return"equally-spaced"===u?(0,x.jsxs)(y.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?ne:Q,e?Q:ne]}):(0,x.jsxs)(y.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,x.jsx)(y.xu,{flex:"shrink",children:J}),(0,x.jsx)(y.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:k?void 0:{__style:q},children:(0,x.jsxs)(y.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?ne:Q,e?Q:ne,g&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:k?void 0:{__style:K},children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(T,{feedbackData:n,feedbackType:i,pin:h,pinTitle:_,setForcePrimary:m})})})})})]})})]})}));var E=i(40142),R=i(850770),C=i(255948),O=i(539195);function k({direction:e,swipeHandler:n}){const i=(0,l.ZP)(),t={left:i._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:i._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,x.jsx)(y.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,x.jsx)(y.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,x.jsx)(y.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,x.jsx)(y.JO,{accessibilityLabel:t[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const j=(0,E.connect)(null,(function(e){return{changeCarouselSlotIndex:(n,i)=>e((0,C.yR)(n,i))}}))((({pin:e,changeCarouselSlotIndex:n})=>{const{logContextEvent:i}=(0,O.v)(),{componentType:t,viewParameter:r,viewType:a}=(0,c.E)(),s=(0,R.Z)({pin:e});if(!s)return null;const{id:l=""}=e,{carousel_slots:d=[],index:u=0,id:p}=s;function h(o){return()=>{const s="left"===o?u-1:u+1;n(l,s),((n=0,o)=>{i({event_type:108,object_id_str:l,component:t,view_type:a,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[n]&&Number(d[n].id),carouselDataId:Number(p),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{...(0,g.Kl)(e)||{}}})})(u,s)}}return(0,x.jsxs)(y.xu,{height:"100%",position:"relative",width:"100%",children:[u>0&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(k,{direction:"left",swipeHandler:h("left")})}),u<d.length-1&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(k,{direction:"right",swipeHandler:h("right")})})]})}));var N=i(606348),A=i(156575);function D({accessibilityLabel:e,attributionNameLink:n,avatarUrl:i,fullWidth:t=!0,name:o="",onClick:r,outline:a=!1,size:s=32}){const l=(0,x.jsx)(y.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,x.jsx)(A.Z,{name:o,src:i,accessibilityLabel:e,outline:a})});return n?(0,x.jsx)(y.iP,{fullWidth:t,role:"link",href:n,onTap:r,children:l}):l}var B=i(112978);function L({isHover:e,attributionNameLink:n,name:i,onClick:t,regularWeight:o}){const{anyEnabled:r}=(0,B.aq)("web_disable_ads_blocker",!n);return(0,x.jsx)(y.xu,{children:(0,x.jsx)(y.xv,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:n?(0,x.jsx)(y.rU,{onClick:t,href:n,children:i}):r?(0,x.jsx)("span",{children:i}):i})})}function Z({isHover:e,link:n,onClick:i,title:t,weight:o}){return t?(0,x.jsx)(y.xv,{inline:!0,underline:e,size:"md",weight:o,children:n?(0,x.jsx)(y.rU,{onClick:i,href:n,children:t}):t}):null}var M=i(151479),G=i(321762);function U({attributionNameLink:e,attributionTitle:n,avatarUrl:i,display:o="default",isPromotedByPinCreator:r,pin:s,name:l,url:d,verifiedIdentity:c,isVerifiedMerchant:u}){const p=(0,G.f)(),[h,_]=(0,t.useState)(!1),{id:m,sponsorship:g,story_pin_data_id:v}=s,{isPromoted:b}=(0,a.Z)(s),{creator:S}=g||{},{id:P}=S||{},T=!!v,w=(0,f.Z)(101,{view_type:3,element:b?283:27,object_id_str:m,component:T?230:void 0,aux_data:{...P?{creator_id:P,pin_id:m}:{}}}),I=()=>{p.setMostRecentPinId(m),w()},E=()=>{_((e=>!e))},R=d&&!e,C="overlay"===o,O=(0,x.jsxs)(y.xu,{alignItems:"center",display:C?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,x.jsx)(y.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:C?"flex":void 0,justifyContent:"center",children:(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:C?{__style:{marginTop:-45}}:void 0,children:(0,x.jsx)(D,{attributionNameLink:e,avatarUrl:i,name:l,onClick:()=>I(),accessibilityLabel:"",size:C?64:32,outline:C})})}),(0,x.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:C?"flex":void 0,justifyContent:"center",marginTop:C?2:void 0,children:[(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,x.jsxs)(y.kC,{gap:1,children:[(0,x.jsx)(L,{attributionNameLink:e,name:l,onClick:()=>I(),regularWeight:!(b&&!g||r),isHover:h}),(0,x.jsx)(M.Z,{size:"sm",hasVerifiedIdentity:c,isVerifiedMerchant:u})]})}),(0,x.jsx)(Z,{isHover:h,title:n,weight:"normal"})]})]});return R?(0,x.jsx)(y.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),I()},href:d,onMouseEnter:E,onMouseLeave:E,children:O}):O}var F=i(613239),V=i(588028),H=i(251483),z=i(902339),W=i(222421),Y=i(456168),$=i(277243),q=i(130510),X=i(816458),K=i(712611);function J({board:e,favoriteCount:n,favorited:i,pinId:o}){const{logContextEvent:r}=(0,O.v)(),a=(0,E.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:l,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:p,setShowExperienceTooltip:h}=(0,K.s)(),_=(0,t.useRef)(null),m=(0,Y.Z)(),f=(0,V.Z)(m,e),g=l===q.Ac&&(!n||1===n),v=(0,$.E)(d,q.Ac),b=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:f?3069:3070})};return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(y.xu,{ref:_,children:(0,x.jsx)(z.Z,{favorited:i,favoriteCount:n,onFavorite:()=>{b(!0),v&&u(),h&&h(!0)},onUnfavorite:()=>{b(!1),e&&g&&a((0,W.Z)({feedId:p||e.id,feedType:p?X.DV.SECTION_PINS:X.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),_&&!i&&!p&&0===s&&(0,x.jsx)(y.mh,{children:(0,x.jsx)(H.Z,{anchor:_.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=i(850115),ee=i.n(Q),ne=i(379507),ie=i.n(ne),te=i(637956),oe=i.n(te),re=i(568594),ae=i(909745),se=i.n(ae),le=i(128206),de=i.n(le),ce=i(483050);const ue={goodIdea:ee(),love:oe(),thanks:se(),wow:de(),haha:ie()},pe={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},he=["CreatorProfileStoryPinGrid"];const _e=function({alignment:e="start",pinId:n,pinner:i,reactionCounts:t,surface:o}){const r=(0,Y.Z)(),a=t?(0,ce.At)(t):null,s=t?(0,ce.Ud)(t):0,l=Boolean(r.isAuth&&(null==i?void 0:i.id)===r.id),d=!!a&&a.length>0&&a.map(((e,n)=>{const i=ue[pe[e]];return(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,x.jsx)(y.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},n)})),c=!!d&&(0,x.jsx)(y.iP,{role:"link",href:`/pin/${n}/`,children:(0,x.jsxs)(y.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,x.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,x.jsx)(y.xu,{paddingX:1,children:(0,x.jsx)(y.xv,{size:"md",children:(0,x.jsx)(re.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&he.includes(o)&&(0,x.jsx)(y.xu,{height:24});return c||u};var me=i(599797),fe=i(248252);function ge({feedbackType:e,pin:n}){const i=(0,l.ZP)(),{pinner:t,source_interest:o}=n,{full_name:r,username:a}=t||{},{name:s}=o||{},d="topic"===e,c=!d&&"followed"===e,u=`/${a}/`,p=(0,fe.NO)(s),h=`/search/pins/?q=${encodeURIComponent(p)}&rs=image_only_attribution`,_=d?h:u,m={topic:i._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:i._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:i._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:i._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!m)return null;if(c||d){const e=0===m.indexOf("{"),n=d?s:r,i=e?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return e?(0,x.jsxs)(y.xu,{children:[(0,x.jsx)(y.rU,{inline:!0,href:_,children:(0,x.jsx)(y.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:n})}),(0,x.jsx)(y.xv,{inline:!0,size:"md",children:i})]}):(0,x.jsxs)(y.xu,{children:[(0,x.jsx)(y.xv,{inline:!0,size:"md",children:i}),(0,x.jsx)(y.rU,{inline:!0,href:_,children:(0,x.jsx)(y.xv,{color:"default",weight:"bold",inline:!0,size:"md",lineClamp:1,children:n})})]})}return(0,x.jsx)(y.xu,{children:(0,x.jsx)(me.Z,{pin:n,children:(0,x.jsx)(y.xv,{color:"default",overflow:"normal",size:"md",weight:"bold",children:m})})})}var ve=i(235744),ye=i(408479),xe=i(485394),be=i(164271);function Se(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class Pe extends t.Component{constructor(...e){super(...e),Se(this,"state",{spamCheck:null}),Se(this,"mounted",!1),Se(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:n,surface:i,url:t}=this.props;t&&n&&(0,be.$3)({location:e,pin:n,surface:i})&&(0,be.iw)({isMounted:this.mounted,pin:n,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:t})})),Se(this,"handleClick",(e=>{const{auxData:n,location:i,onClick:t,pin:o,pinId:r,url:a,logContextEvent:s}=this.props;(0,be.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),t&&t(e),a&&(0,xe.h)({href:a,pinId:r,pin:o,location:i,auxData:n},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:n}=this.props;return(0,x.jsx)("a",{href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Te=(0,E.connect)((function({pins:e},{pinId:n}){return{pin:n&&e?e[n]:void 0}}),(()=>({})))((function(e){const{logContextEvent:n}=(0,O.v)();return(0,x.jsx)(Pe,{...e,history:(0,v.k6)(),location:(0,v.TH)(),logContextEvent:n,match:(0,v.$B)()})}));function we(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:n,totalAssets:i}=window.prefetchCompletion[e];return i?(n/i*100).toFixed(3).toString():"-1"}var Ie=i(144977),Ee=i(562706);function Re({children:e,componentType:n,contextLogData:i,pin:t,surface:o,viewParameter:r,viewType:a}){const{logContextEvent:s}=(0,O.v)(),l=(0,c.E)(),{ad_destination_url:d,carousel_data:u,id:p,link:h,tracked_link:_}=t;let m,f=d||_||h||"",g="one-tap-desktop";if(u){const{carousel_slots:e=[],id:n,index:i=0}=u;e[i]&&e[i].link&&(f=e[i].link),m={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:n,carousel_slot_index:i},g+="-carousel"}return(0,x.jsx)(y.xu,{"data-test-id":"otpp",children:(0,x.jsx)(Ie.Z,{id:g,children:(0,x.jsx)(Te,{auxData:m,onClick:()=>{const e=(0,Ee.cv)();s({event_type:12,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:n||l.componentType,object_id_str:p,aux_data:{...i,grid_index:l.slotIndex,pin_id:p,prefetch_percentage_complete:we(h||"")}}),s({event_type:8948,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:n||l.componentType,object_id_str:p,aux_data:{...i,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:p,prefetch_percentage_complete:we(h||"")}}),s({event_type:13,object_id_str:p,component:n||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...i}}),s({event_type:13,...e})},pinId:p,surface:o,url:f,children:e})})})}var Ce=i(866104);function Oe(e){const{pin:n,surface:i}=e,{isOneTap:t,isVideo:o,isPromoted:r,isLeadPin:s}=(0,a.Z)(n),l=(0,B.tc)("web_no_tap_tap"),d=!s&&(t||o&&r&&l().anyEnabled)?Re:me.Z;return(0,x.jsx)(d,{surface:t?i:void 0,...(0,Ce.Z)(e,["surface"])})}function ke({pin:e,pinNoteText:n}){return(0,x.jsx)(Oe,{pin:e,children:(0,x.jsx)(y.xv,{lineClamp:1,overflow:"normal",size:"md",children:n})})}var je=i(238098),Ne=i(766279);function Ae({value:e,valueFormat:n}){const i=(0,l.ZP)();return e||0===e?"TIME"===n?(0,Ne.Z)(e):(0,x.jsx)(re.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,x.jsx)(y.u,{idealDirection:"up",text:i._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"â€”"})}var De=i(715342);function Be({pin:e}){var n;const i=(0,l.ZP)(),t=(0,Y.Z)(),{isStoryPin:o,isVideo:r}=(0,a.Z)(e),s=t.isAuth&&(null===(n=e.pinner)||void 0===n?void 0:n.id)===t.id&&!e.is_repin,d=t.isAuth&&t.isPartner,c=(0,De.iL)({isOwnPin:s,isPartner:d}),u=(0,De.H1)({isOwnPin:s,isPartner:d}),p=e.created_at?new Date(e.created_at):null,h=(c||u)&&p&&p.getTime()<=De.HW.getTime(),_=c?function(e){const{public_creator_analytics:n}=e,{isStoryPin:i}=(0,a.Z)(e);return i&&n?n:null}(e):function(e){const{aggregated_pin_data:n,creator_analytics:i}=e,{creator_analytics:t}=n||{},{isStoryPin:o}=(0,a.Z)(e);return!i||!o&&t?t:i}(e),m=(0,je.ZP)({isVideo:r,isStoryPin:o,i18n:i,showPublicPinStats:c,showPrivateFullScreenPinStats:u}),f=r||o?null==_?void 0:_.all_time_realtime:null==_?void 0:_["30d_realtime"];return(0,x.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:m.map((({align:e,displayText:n,field:i,iconType:t,iconSize:o=12,valueFormat:r})=>(0,x.jsxs)(y.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,x.jsx)(y.xu,{display:"inlineBlock",marginEnd:1,children:(0,x.jsx)(y.JO,{accessibilityLabel:n,color:"darkGray",icon:t,size:o})}),(0,x.jsx)(y.xv,{inline:!0,size:"md",children:(0,x.jsx)(Ae,{value:"full_screen_play"===i&&h?null:null==f?void 0:f[i],valueFormat:r})})]},i)))})}function Le({currentPrice:e,originalPrice:n,pin:i,surface:t}){const o=n&&n!==e;return(0,x.jsx)(Oe,{pin:i,surface:t,children:(0,x.jsxs)(y.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,x.jsx)(y.xv,{color:o?"blue":"darkGray",size:"md",weight:"bold",children:e}),o&&(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,x.jsx)(y.xv,{color:"subtle",size:"md",weight:"bold",children:n})})]})})}var Ze=i(819086),Me=i(706713);function Ge({pin:e,surface:n}){return(0,x.jsx)(Oe,{pin:e,surface:n,children:(0,x.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(y.xv,{color:"default",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,Me.Z)(e,n)})})})}var Ue=i(831246);function Fe({numberOfLines:e=2,pin:n,pinTitle:i,surface:t}){return(0,x.jsx)(y.xv,{color:"default",lineClamp:e,size:"md",weight:"bold",children:(0,x.jsx)(Oe,{pin:n,surface:t,children:i})})}var Ve=i(187828);const He={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Ve.X}ms ease`},visible:{opacity:1}}};function ze({attributionDisplay:e,attributionType:n,board:i,feedbackData:o,feedbackType:r,hasTextContent:s,hasTitleOrSource:d,hoverTransitionState:c,pin:u,pinNoteText:p,pinTitle:h,productCurrentPrice:_,productOriginalPrice:m,reactionAlignment:g,setForcePrimary:v,showCarouselEllipsis:b,showFavoriteButton:S,showGroupBoardAvatar:P,showNativeReactions:T,showOverflowMenu:w,showPinStats:I,showSource:R,showTextContent:C,showTitle:O,showVerifiedIcon:k,surface:j,titleLines:N}){var A,L,M,G;const V=(0,l.ZP)(),H=(0,Y.Z)(),z=(0,E.useDispatch)(),{favorited_by_me:W,favorite_user_count:$,id:q,pinner:X,reaction_counts:K,sponsorship:Q,story_pin_data:ee}=u,{has_affiliate_products:ne}=ee||{},ie=function(e,n,i){var t,o,r,s;const{board:l,link_domain:d={},promoter:c,sponsorship:u,native_creator:p}=e,{sponsor:h}=u||{},{isPromoted:_}=(0,a.Z)(e),{official_user:m}=d||{},f=_&&!!u&&(null==p?void 0:p.id)!==(null==c?void 0:c.id),g=e.pinner||{};let v="",y="",x="",b="",S="",P="",T=!1,w=!1;var I,E,R,C,O,k;if(f)v=null!==(I=null!==(E=null==p?void 0:p.image_medium_url)&&void 0!==E?E:null==p?void 0:p.image_small_url)&&void 0!==I?I:"",y=`/${null!==(R=null==p?void 0:p.username)&&void 0!==R?R:""}/`,x=null==c?void 0:c.full_name,b=null==p?void 0:p.full_name,P=`/${null!==(C=null==p?void 0:p.username)&&void 0!==C?C:""}/`,S=`/${null!==(O=null==c?void 0:c.username)&&void 0!==O?O:""}/`,T=null==p||null===(k=p.verified_identity)||void 0===k?void 0:k.verified,w=null==p?void 0:p.is_verified_merchant;else if(_&&c)v=c.image_medium_url||c.image_small_url,x=c.full_name,b=i._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),P=`/${c.username}/`;else if(u&&null!=h&&h.username){var j,N,A,D,B,L;v=null!==(j=null!==(N=null!==(A=null==p?void 0:p.image_large_url)&&void 0!==A?A:null==p?void 0:p.image_medium_url)&&void 0!==N?N:null==p?void 0:p.image_small_url)&&void 0!==j?j:"",y=`/${null!==(D=null==p?void 0:p.username)&&void 0!==D?D:""}/`,x=h.full_name,b=null==p?void 0:p.full_name,P=`/${null!==(B=null==p?void 0:p.username)&&void 0!==B?B:""}/`,S=`/${h.username}/`,T=null==p||null===(L=p.verified_identity)||void 0===L?void 0:L.verified,w=null==p?void 0:p.is_verified_merchant}else if(p){var Z,M,G,U,F;v=null!==(Z=null!==(M=null!==(G=p.image_large_url)&&void 0!==G?G:p.image_medium_url)&&void 0!==M?M:p.image_small_url)&&void 0!==Z?Z:"",b=p.full_name,P=`/${null!==(U=p.username)&&void 0!==U?U:""}/`,T=null===(F=p.verified_identity)||void 0===F?void 0:F.verified,w=p.is_verified_merchant}else if("show-for-claimed-content"===n){var V,H,z,W;null!=m&&m.is_primary_website_verified&&m.username&&(v=null!==(V=null!==(H=null!==(z=m.image_large_url)&&void 0!==z?z:m.image_medium_url)&&void 0!==H?H:m.image_small_url)&&void 0!==V?V:"",b=m.full_name,P=`/${m.username}/`,T=null===(W=m.verified_identity)||void 0===W?void 0:W.verified,w=m.is_verified_merchant)}else{var Y,$,q,X;v=null!==(Y=null!==($=null!==(q=g.image_large_url)&&void 0!==q?q:g.image_medium_url)&&void 0!==$?$:g.image_small_url)&&void 0!==Y?Y:"",y=`/${g.username}/`,b=g.full_name,P=l?l.url:"",T=null===(X=g.verified_identity)||void 0===X?void 0:X.verified,w=g.is_verified_merchant}return{avatarUrl:null!==(t=v)&&void 0!==t?t:"",attributionNameLink:y,attributionTitle:null!==(o=x)&&void 0!==o?o:"",name:null!==(r=b)&&void 0!==r?r:"",sponsorUrl:S,url:null!==(s=P)&&void 0!==s?s:"",verifiedIdentity:!!T,isVerifiedMerchant:!!w}}(u,n,V),{avatarUrl:te,attributionNameLink:oe,attributionTitle:re,name:ae,sponsorUrl:se,url:le,verifiedIdentity:de,isVerifiedMerchant:ce}=ie,ue=!!u.promoter&&!u.is_downstream_promotion,pe=ue&&(null===(A=u.native_creator)||void 0===A?void 0:A.id)===(null===(L=u.promoter)||void 0===L?void 0:L.id),he=(0,f.Z)(101,{view_type:3,element:27,object_id_str:q,component:u.story_pin_data_id?230:void 0,aux_data:{pin_id:q,...null!=Q&&null!==(M=Q.creator)&&void 0!==M&&M.id&&null!==(G=Q.sponsor)&&void 0!==G&&G.id?{creator_id:Q.creator.id,sponsor_id:Q.sponsor.id}:{}}}),me=e=>z(me(e)),fe=(0,B.tc)("web_ag_msg_pin_card_update"),xe="ConversationView"===j&&fe({dangerouslySkipActivation:!0}).anyEnabled,be=!pe&&Q?(0,x.jsx)(Z,{link:se||le,onClick:()=>(me(q),void he()),title:(0,Ze.ZP)(re,20),weight:"bold"},`${u.id}-sponsor-name-link`):null,Se="ConversationView"===j&&xe?{padding:"8px"}:He.container;return(0,x.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:Se},children:[b&&(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:d||P||"none"!==n?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,x.jsx)(F.default,{pinId:q})}),I&&(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,x.jsx)(Be,{pin:u})}),(0,x.jsx)(y.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsxs)(y.xu,{flex:"grow",children:[(!!Q||ne&&!ue)&&!pe&&(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(y.xu,{flex:"grow",overflow:"hidden",children:(0,x.jsx)(Ue.Z,{hasAffiliateProducts:ne,isPromoted:ue,sponsorName:be,sponsorshipStatus:null==Q?void 0:Q.status})})}),(C&&s||S)&&(0,x.jsxs)(y.xu,{marginBottom:1,children:[(m||_)&&(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(Le,{currentPrice:_,originalPrice:m,pin:u,surface:j})}),S?(0,x.jsxs)(y.kC,{alignItems:"start",children:[(0,x.jsx)(y.kC,{flex:"grow",children:(0,x.jsx)(Fe,{numberOfLines:N,pin:u,pinTitle:h,surface:j})}),(0,x.jsx)(y.xu,{marginStart:3,children:(0,x.jsx)(J,{board:i,favorited:!!W,favoriteCount:null!=i&&i.is_collaborative&&(0,ve.Z)({board:i,viewer:H})?null!=$?$:0:void 0,pinId:q})})]}):O&&(0,x.jsx)(Fe,{numberOfLines:N,pin:u,pinTitle:h,surface:j}),R&&(0,x.jsx)(y.xu,{marginBottom:2,children:(0,x.jsx)(Ge,{pin:u,surface:j})})]}),(0,x.jsxs)(y.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(y.xu,{flex:"grow",children:(()=>{const i=(0,x.jsx)(U,{attributionNameLink:oe,attributionTitle:ue&&!Q||pe?re:"",avatarUrl:te,display:e,isPromotedByPinCreator:!!pe,isVerifiedMerchant:k&&ce,name:ae,pin:u,url:le,verifiedIdentity:k&&de});switch(n){case"none":return null;case"image-only-credit":return(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:He.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,x.jsx)(ge,{pin:u,feedbackType:r})});default:return Object.values(ie).some((e=>Boolean(e)))?i:null}})()}),w&&(0,x.jsx)(y.xu,{flex:"none",children:(0,x.jsx)(ye.default,{feedbackData:o,feedbackType:r,pin:u,pinTitle:h,setForcePrimary:v,transparentBackground:!0})})]}),T&&!!K&&(0,x.jsx)(y.xu,{marginTop:"ConversationView"===j&&xe?2:void 0,children:(0,x.jsx)(_e,{alignment:g,pinId:q,pinner:X,reactionCounts:K,surface:j})}),p&&(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(ke,{pin:u,pinNoteText:p})}),P&&!S&&(0,x.jsx)(y.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(D,{attributionNameLink:oe||le,avatarUrl:te,fullWidth:!1,name:ae}),(0,x.jsx)(y.xu,{marginStart:2,flex:"grow",children:(0,x.jsx)(y.xv,{size:"md",children:ae})})]})})]})})]})}var We=i(394465),Ye=i(238080);const $e=(0,t.lazy)((()=>i.e(33168).then(i.bind(i,446124)))),qe=(0,t.lazy)((()=>i.e(69221).then(i.bind(i,458392))));function Xe({contentType:e,hasTextContent:n,pin:i,pinTitle:o,productCurrentPrice:a,productOriginalPrice:d,productRating:c,productShipping:u,showSource:p,showVisitSiteButton:h,surface:_,titleLines:m}){var f;const{logContextEvent:v}=(0,O.v)(),b=(0,l.ZP)(),S=(0,B.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:P,group:T}=S({dangerouslySkipActivation:!0}),w=(null===(f=i.rich_summary)||void 0===f?void 0:f.url)||i.link;"shopping"!==e||T.includes("pwt")||S();const I=(0,We.Z)({url:w})?"nofollow":"none";return(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:He.productContainer},height:"100%",children:(0,x.jsx)(y.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:n&&(0,x.jsxs)(t.Fragment,{children:[(0,x.jsxs)(y.xu,{children:[(d||a)&&(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(Le,{currentPrice:a,originalPrice:d,pin:i,surface:_})}),(0,g.qN)(i)&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)($e,{})})})}),(0,g.SP)(i)&&(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(qe,{})})})}),(0,x.jsx)(y.xu,{marginBottom:1,children:(0,x.jsx)(Fe,{numberOfLines:m,pin:i,pinTitle:o,surface:_})}),p&&(0,x.jsx)(Ge,{pin:i,surface:_}),"shopping"===e&&P&&(c||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,x.jsx)(Ye.Z,{count:null==c?void 0:c.count,countFormat:"number",isGridView:!0,ratingValue:null==c?void 0:c.rating,shippingInfo:u})]}),h&&w?(0,x.jsx)(y.xu,{marginTop:2,children:(0,x.jsx)(y.zx,{role:"link",fullWidth:!0,href:w,rel:I,onClick:()=>{v({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:b._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const Ke=(0,t.memo)((function({attributionDisplay:e,attributionType:n,blockClickEvents:i,board:t,contentType:r,feedbackData:a,feedbackType:s,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,reactionAlignment:_,productRating:m,productShipping:f,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:b,showGroupBoardAvatar:S,showNativeReactions:P,showOverflowMenu:T,showPinStats:w,showSource:I,showTextContent:E,showTitle:R,showVerifiedIcon:C,showVisitSiteButton:O,surface:k,titleLines:j}){const N=u||I,A="shopping"===r?(0,x.jsx)(Xe,{contentType:r,hasTextContent:!!N,pin:d,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,productRating:m,productShipping:f,showSource:I,showVisitSiteButton:O,surface:k,titleLines:j}):(0,x.jsx)(ze,{attributionDisplay:e,attributionType:n,board:t,feedbackData:a,feedbackType:s,hasTextContent:!!N,hasTitleOrSource:!!N,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:u,productCurrentPrice:p,productOriginalPrice:h,reactionAlignment:_,setForcePrimary:g,showCarouselEllipsis:v,showFavoriteButton:b,showGroupBoardAvatar:S,showNativeReactions:P,showOverflowMenu:T,showPinStats:w,showSource:I,showTextContent:E,showTitle:R,showVerifiedIcon:C,surface:k,titleLines:j});return i?(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:A}):(0,x.jsx)(y.kC,{flex:"grow",children:(0,x.jsx)(o.Z,{fullWidth:!0,children:A})})}));var Je=i(238235),Qe=i(98775),en=i(565375);const nn=(0,t.lazy)((()=>i.e(34979).then(i.bind(i,325884)))),tn=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(88299),i.e(95244),i.e(43473)]).then(i.bind(i,252386)))),on=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(88299),i.e(15833),i.e(95244),i.e(22347)]).then(i.bind(i,635081)))),rn=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(22538)]).then(i.bind(i,296991)))),an=(0,t.lazy)((()=>i.e(1593).then(i.bind(i,831286))));function sn({derivedSaveButtonOptions:e,forcePrimaryContent:n,showEnabledSaveBehavior:i,onToggleFlyout:a,onToggleModal:l,pin:d}){const{id:u,savedInfo:p}=d,h=(0,t.useRef)(!!p),_=(0,E.useSelector)((({experiences:e})=>{const n=e[1000294];return 502450===(null==n?void 0:n.experience_id)?n:null})),{saveBehaviorType:m}=(0,en.tY)(i);void 0!==m&&["classic","controlled","inline"].includes(e.type)&&(e=m);const{viewParameter:g,viewType:v}=(0,c.E)(),b=(0,f.Z)(101,{element:0,object_id_str:u});let S=null;const P={onToggleModal:a,view:v,viewParameter:g,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(_||i&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:t}=e;S=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(rn,{experience:_||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:t,showEnabledSaveBehavior:i,viewParameter:g})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:n}=e;S=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(tn,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:n,renderSavedStatus:()=>!!p&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Qe.Z,{isNewlySaved:!h.current,name:p.title,type:p.type,url:p.url})}),variant:"lego",viewParameter:g})})})})})}else if("inline"===e.type){const n=d,{initialSelection:i,onSave:t,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:u}=e;S=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"better-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(on,{initialSelection:i,onSave:t,onToggleFlyout:a,onToggleModal:l,pin:n,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,x.jsx)(o.Z,{children:(0,x.jsx)(Qe.Z,{isNewlySaved:!h.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:g,hideDropdown:u})})})})})}else"persistentOneClickSave"===e.type?S=(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"persistent-one-click-save",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(nn,{...P,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(S=(0,x.jsx)(y.kC,{alignItems:"stretch",justifyContent:"end",children:(0,x.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,x.jsx)(s.Z,{children:(0,x.jsx)(y.xu,{"data-test-id":"pin-promote-button",children:(0,x.jsx)(o.Z,{children:(0,x.jsx)(an,{pin:d})})})})})}));return(0,x.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,x.jsx)(y.xu,{display:"flex",margin:3,children:S&&(0,x.jsx)(y.xu,{marginStart:"auto",flex:"grow",children:S})})})}var ln=i(516795),dn=i(875410),cn=i(440504),un=i(221295),pn=i(955106);const hn={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function _n({isSelected:e}){const n=(0,l.ZP)();return(0,x.jsx)(y.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?hn:{},children:(0,x.jsx)(y.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,x.jsx)(y.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,x.jsx)(y.JO,{accessibilityLabel:n._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var mn=i(897985),fn=i(126684),gn=i(675152),vn=i(448400),yn=i(751438),xn=i(71445);const bn={},Sn=e=>{xn.Z.increment("web_prefetch_via_xhr.attempt",1);const n=(0,h.Z)(e);return new Promise(((i,t)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(xn.Z.increment("web_prefetch_via_xhr.saveDataOn",1),i()),/2g/.test(e.effectiveType)&&(xn.Z.increment("web_prefetch_via_xhr.poorConnection",1),i())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(bn[e]&&(bn[e].loaded=!0),xn.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:n.hostname||"unknown"}),i(o.response)):(xn.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:n.hostname||"unknown"}),t())},bn[e]||(o.send(),bn[e]={added:!0,xhr:o},xn.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:n.hostname||"unknown"}))}))},Pn={},Tn=(e,n)=>{const i="string"==typeof e?e:e.url;if(n&&i){const e="control"===n?"v1.pinimg.com":"v2.pinimg.com";return i.replace("v.pinimg.com",e)}return i};function wn(e,n){return(Tn("https://v.pinimg.com/videos/mc/hls/",n)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function In(e){const{id:n}=e;n&&Pn[n]&&Pn[n].length>0&&Pn[n].forEach((e=>{(e=>{bn[e]&&bn[e].xhr&&!bn[e].loaded&&(xn.Z.increment("web_prefetch_abort_xhr",1),bn[e].xhr.abort(),bn[e].aborted=!0)})(e)}))}function En({autoplaySettingOff:e,blockClickEvents:n,fallbackColor:i,imageFit:o,isDenseView:r,isHovering:s,isSocialSeasonalBoard:l=!1,onError:d,onLoad:p,pin:h,pinImageCrop:_,resolution:m="default",rootMargin:f,selectionState:g,showCarousel:v,showPromotedVideos:b,showUnavailablePin:S,surface:P}){const{contextLogData:T,slotIndex:w,viewParameter:I,viewType:E}=(0,c.E)(),{group:R}=(0,B.aq)("web_prefetch_video_in_feed"),{id:C="",aggregated_pin_data:O,image_signature:k,story_pin_data:j}=h,{pin_tags_chips:N}=O||{},{isOneTap:A,isVideo:D,isPromoted:L,isGif:Z}=(0,a.Z)(h),{cropHeight:M,cropWidth:G}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(_);let U=null;if(S)U=(0,x.jsx)(mn.Z,{isDenseView:r,height:r?250:420,rounding:0,width:r?164:236});else if(e||!D||!b&&L||"BoardCoverSelectablePin"===P)if(v)U=(0,x.jsx)(y.xu,{"data-test-id":"pinrep-carousel",children:(0,x.jsx)(cn.Z,{cropHeight:M,cropWidth:G,onError:d,onLoad:p,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:C,showCarouselBadge:!1,pin:h})});else{const e="backend"===_?function({images:e,image_crop:n}){var i;const t=e&&(null===(i=e["236x"])||void 0===i?void 0:i.height);if(n&&(0!==n.min_y||1!==n.max_y)){const{min_y:e=0,max_y:i=0}=n;return{marginTop:(e>0?-1*e*(null!=t?t:0):0)+"px",marginBottom:`${i<1?Math.round(-1*(1-i)*(null!=t?t:0)):0}px`}}return{}}(h):{};U=(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,x.jsx)(un.Z,{animateGif:Z&&l,cropHeight:M,cropWidth:G,fallbackColor:i,imageFit:o,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:p,onError:d,pin:h})})}else U=(0,x.jsx)(y.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:(0,x.jsx)(pn.Z,{cropHeight:M,rootMargin:f,inAdsDesktopVideoExperiment:D&&b,pin:h,surface:P,onLoad:p,viewType:E,viewParameter:I,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,onError:d,isExperimentalPinRep:!0})});const F=(0,x.jsx)(y.zd,{wash:!0,children:(0,x.jsx)(u.Z,{hovered:s,pin:h,slotIndex:w,viewType:1,children:U})}),V=["selected-image-only","deselected-image-only"].includes(g),H="selected-image-only"===g,z=(0,t.useRef)(!0),W=(0,t.useRef)(!1),Y=(0,t.useRef)(!1),$=(0,B.aq)("web_video_quic").group;if((0,t.useEffect)((()=>{z.current||!s||A||n||W.current?s||!W.current||Y.current||(In(j||h),Y.current=!0):j?(!function(e,n){var i;const{id:t,pages:o,pages_preview:r}=e;if(!r&&!o)return;const a=r?r[0]:null==o?void 0:o[0],s=null==a||null===(i=a.blocks)||void 0===i?void 0:i.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:i}=(0,yn.Z)(s.video)||{},o=i||e;if(o&&t){var l;const e=null!==(l=Tn(o,n))&&void 0!==l?l:"";Pn[t]=Pn[t]?Pn[t].concat(e):[e],Sn(e)}}}(j,$),W.current=!0):(!function(e,n){const{id:i,videos:t}=e,{video_list:o}=t||{},r=(0,fn.Z)({pin:e}),{video:a}=(0,gn.Z)(r)||{},{hls:s,hlsv3:l}=a||{};if(o){const e=(0,yn.t)(o)||{},t=l||s||{};if(t.url){var d;const e=null!==(d=Tn(t.url,n))&&void 0!==d?d:"";Pn[i]=Pn[i]?Pn[i].concat(e):[e],Sn(e).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".m3u8")))),t&&t[vn.VS]){const e=wn(t[vn.VS],n);return Pn[i]=Pn[i].concat(e),Sn(null!=e?e:"")}return null})).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".ts")))),t&&t[0]){const e=wn(t[0],n);return Pn[i]=Pn[i].concat(e),Sn(null!=e?e:"")}return null}))}else if(e.url){var c;const t=null!==(c=Tn(e.url,n))&&void 0!==c?c:"";Sn(t),Pn[i]=Pn[i]?Pn[i].concat(t):[t]}}}(h,$),W.current=!0),z.current=!1}),[n,s,A,j,h,R,$]),n)return(0,x.jsxs)(t.Fragment,{children:[F,V&&(0,x.jsx)(_n,{isSelected:H}),N&&(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(dn.Z,{pin:h,enableCloseupLink:!0})})]});const{commerce_data:q,story_type:X}=T||{},K=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(P);return(0,x.jsxs)(Oe,{contextLogData:{commerce_data:K?q:void 0,grid_index:w,image_signature:k,story_type:X},elementType:j?12372:35,pin:h,surface:P,children:[F,N&&(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(dn.Z,{pin:h,enableCloseupLink:!1})})]})}var Rn=i(285392),Cn=i(293302),On=i(786654);const kn=(0,Cn.Z)((({handleSendShareFlyoutButtonClick:e})=>{const n=(0,l.ZP)(),i=(0,On.Z)();return(0,x.jsx)(y.zx,{fullWidth:!0,onClick:i((({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),e()})),text:n._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:n._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));function jn(e){return e<160?"header-only":"none"}function Nn(e){const[n,i]=(0,t.useState)(e.current?jn(e.current.clientHeight||0):"none");return function(e,n){const i=(0,t.useRef)();(0,t.useEffect)((()=>{const t=e.current;if(!t)return;const o=i.current;o&&o.width===t.offsetWidth&&o.height===t.offsetHeight||(i.current={width:t.offsetWidth||0,height:t.offsetHeight||0},n&&n(i.current))})),i.current}(e,(({height:e})=>{const t=jn(e);t!==n&&i(t)})),n}var An=i(670641),Dn=i(128240),Bn=i(805251),Ln=i(932937),Zn=i(903997);const Mn="#000000",Gn="#ffffff";function Un({selected:e=!1}){const n=(0,l.ZP)(),{isRTL:i}=(0,d.B)();return(0,x.jsx)(y.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new y.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Mn:Gn,borderRadius:Zn.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,x.jsx)(y.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,x.jsx)(y.JO,{accessibilityLabel:n._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,x.jsx)(y.xu,{right:!i,left:i,position:"absolute",top:!0,margin:3,children:(0,x.jsx)(y.JO,{accessibilityLabel:n._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Fn={wrapper:{borderRadius:Zn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Zn.Dv.VISUAL},savedOverlay:{backgroundColor:Zn.Dv.SAVED},legoWashOverlay:{backgroundColor:Zn.Dv.LEGO_WASH}};function Vn({children:e,savedOverlayVisibility:n="none",visualOverlayVisibility:i="none",handleMouseOverPinContent:t,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:a="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:u,actionBarVisibility:p="none",seeStatsButton:h,footer:_,selectionState:m="no-selection",debugContent:f,signalDebuggerContent:g,signalDebuggerV2Content:v,signalDebuggerV2ContentVisibility:b="none",obscuredPinOverlay:S,showNoPinBorderRadius:P,showPromotedPinBorderTreatment:T,shouldUseLegoWash:w}){return(0,x.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:T?Fn.promotedPinBorderTreatment:{}},height:"100%",children:(0,x.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:P?{}:Fn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(m)&&(0,x.jsx)(Un,{selected:"selected"===m}),(0,x.jsxs)(y.xu,{dangerouslySetInlineStyle:{__style:P?{}:Fn.wrapper},overflow:"hidden",position:"relative",onFocus:t,onBlur:o,onMouseEnter:t,onMouseLeave:o,children:[e,(0,x.jsx)(Ln.Z,{visibility:i,children:(0,x.jsx)(Bn.Z,{additionalStyles:w?Fn.legoWashOverlay:Fn.visualOverlay})}),(0,x.jsx)(Ln.Z,{visibility:n,children:(0,x.jsx)(Bn.Z,{additionalStyles:w?Fn.legoWashOverlay:Fn.savedOverlay})}),d&&(0,x.jsx)(Ln.Z,{visibility:c,children:(0,x.jsx)(Bn.Z,{children:d})}),s&&(0,x.jsx)(Ln.Z,{visibility:l,children:(0,x.jsx)(Bn.Z,{children:s})}),r&&(0,x.jsx)(Ln.Z,{visibility:a,children:(0,x.jsx)(Bn.Z,{children:r})}),v&&(0,x.jsx)(Ln.Z,{visibility:b,children:(0,x.jsx)(Bn.Z,{children:(0,x.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:v})})}),u&&(0,x.jsx)(Ln.Z,{visibility:p,children:(0,x.jsx)(Bn.Z,{children:(0,x.jsx)(y.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),h&&(0,x.jsx)(Bn.Z,{children:(0,x.jsx)(y.xu,{position:"absolute",left:!0,bottom:!0,children:h})}),f&&(0,x.jsx)(Bn.Z,{children:f}),g]}),_,S&&(0,x.jsx)(y.xu,{children:S})]})})}var Hn=i(475559);function zn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Wn(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const Yn=228;const $n=(0,t.memo)((function({actionBarProps:e,blockClickEvents:n,borderStyle:i,currentlyPlayingVideo:a,disableHover:s=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:u,onError:p,onLoad:h,pin:_,pinVisualProps:m,presentationProps:f,primaryContentProps:g,rounding:v,secondaryContentProps:b,selectionState:S,showFooter:P,showImpressionsDebugger:T,showObscuredPinOverlay:w,showSeeStatsButton:E,showSignalDebugger:R,showUnavailablePin:C,surface:O,visibilityOverrides:k}){var A,D;const{savedInfo:L}=_,{viewType:Z}=(0,c.E)(),{showEnabledSaveBehavior:M}=(0,en.Yh)(Hn.ZF.includes(O)||(0,Je.Z)(O)),[G,U]=(0,t.useState)(!1),F=(0,Ve.Z)(G);let{isHovering:V,hoverTransitionState:H,handleMouseOver:z,handleMouseLeave:W}=function(){const[e,n]=(0,t.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Ve.Z)(e,0,Ve.X),handleMouseOver:(0,t.useCallback)((()=>n(!0)),[n]),handleMouseLeave:(0,t.useCallback)((()=>n(!1)),[n])}}();s&&(V=!1,H="inactive");const Y=(0,Ve.Z)(!!L),$=zn(Y),q=zn(H),X=zn(H),K=zn(F),J=zn(Y),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(O),ee="visible"!==$||Q?$:"none",ne={primaryContentVisibility:null!==(A=k.primaryContent)&&void 0!==A?A:Wn(X,K,"visible"===J?"none":J),secondaryContentVisibility:(ie=Wn(X,K,J),"none"===ie?"visible":"visible"===ie?"none":"hidden"),actionBarVisibility:Wn(X,K),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ie;const te=e=>U(e),oe=e=>U(e),re=e=>{U(e),e||W()};let ae=null;"none"!==ne.primaryContentVisibility&&(ae=(0,x.jsx)(sn,{forcePrimaryContent:te,showEnabledSaveBehavior:M,onToggleFlyout:oe,onToggleModal:re,pin:_,...g}));let se=null;const le=(0,t.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,n){const{carousel_data:i}=e,{index:o}=i||{},[r,a]=(0,t.useState)(!i||n),s=(0,t.useRef)(o),l=(0,t.useRef)(null);if(i){const e=s.current;s.current=o,(o!==e||n)&&(l.current&&clearTimeout(l.current),a(!0),l.current=setTimeout((()=>{a(!1),l.current=null}),4e3))}return(0,t.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(_,de),ue=zn((0,Ve.Z)(ce));ne.secondaryContentVisibility=null!==(D=k.secondaryContent)&&void 0!==D?D:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ne.secondaryContentVisibility,ue),se=(b.allowShoppingPriceIndicator||b.shoppingLabelColor||"none"!==ne.secondaryContentVisibility)&&!a&&(0,x.jsx)(y.xu,{margin:2,children:(0,x.jsx)(ln.Z,{pin:_,...b})});let pe=null;"visible"===k.accessoryContent&&(pe=(0,x.jsx)(j,{pin:_}),ne.accessoryContentVisibility=zn(H)),m.isSocialSeasonalBoard&&(e.showShareButton=!1);let he=null;E&&(e.showSourceLinkButton=!1,he=(0,x.jsx)(o.Z,{children:(0,x.jsx)(Rn.Z,{pinId:_.id,surface:O})}));const _e="visible"===k.actionBar?(0,x.jsx)(I,{onToggleFlyout:oe,pin:_,setForcePrimary:U,surface:O,...e}):null;let me=null;P&&(me=(0,x.jsx)(Ke,{blockClickEvents:n,hoverTransitionState:"image-only-credit"===l.attributionType?H:null,pin:_,setForcePrimary:U,surface:O,...l})),m.isSocialSeasonalBoard&&(me=(0,x.jsx)(y.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,x.jsx)(y.xu,{margin:"auto",width:Yn,children:(0,x.jsx)(kn,{isFlyoutOpen:G,onFlyoutDismiss:()=>oe(!G),onToggleFlyout:()=>oe(!G),pinId:_.id,sendType:"pin",shownWithinMasonry:!0,viewType:Z})})}));const fe=T&&(0,x.jsx)(An.Z,{...d}),ge=R&&_.debug_info_html&&(0,x.jsx)(y.xu,{paddingY:1,children:(0,x.jsx)("pre",{children:_.debug_info_html})}),ve=(0,x.jsx)(N.Z,{pin:_}),ye=(0,t.useRef)();"header-only"===Nn(ye)&&(ne.actionBarVisibility="none",ne.accessoryContentVisibility="none");const xe=w?(0,x.jsx)(Dn.ZP,{pin:_,...u}):null,be="ShoppingGridShippedMetadataWithVisitButton"===O?{height:"100%"}:{},Se=(0,B.tc)("web_ag_msg_pin_card_update"),Pe="ConversationView"===O&&Se({dangerouslySkipActivation:!0}).anyEnabled,Te=(0,B.tc)("web_creator_attr_hover_overlay"),we=P&&"default"===l.attributionType&&Hn.ZF.includes(O),Ie=!_.is_promoted&&!s&&we,Ee=Ie&&Te({dangerouslySkipActivation:!0}).anyEnabled;return Ie&&(me=(0,x.jsx)(y.xu,{onMouseEnter:Te,onFocus:Te,children:me})),(0,x.jsx)(r.Z,{name:"PinRepContainer",children:(0,x.jsx)(y.xu,{"data-test-id":"pin","data-test-pin-id":_.id,onFocus:Ee?()=>{}:z,onBlur:Ee?()=>{}:W,onMouseEnter:Ee?()=>{}:z,onMouseLeave:Ee?()=>{}:W,dangerouslySetInlineStyle:{__style:be},rounding:Pe&&"ConversationView"===O?v:void 0,borderStyle:Pe&&"ConversationView"===O?i:"none",overflow:Pe&&"ConversationView"===O?"hidden":"visible",children:(0,x.jsx)(Vn,{visualOverlayVisibility:q,savedOverlayVisibility:ee,handleMouseOverPinContent:Ee?z:()=>{},handleMouseLeavePinContent:Ee?W:()=>{},primaryContent:ae,primaryContentVisibility:ne.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:ne.secondaryContentVisibility,accessoryContent:pe,accessoryContentVisibility:ne.accessoryContentVisibility,actionBar:_e,actionBarVisibility:ne.actionBarVisibility,seeStatsButton:he,footer:me,selectionState:S,debugContent:fe,signalDebuggerV2Content:ve,signalDebuggerV2ContentVisibility:ne.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:xe,...f,children:(0,x.jsx)(y.xu,{height:"100%",ref:ye,children:(0,x.jsx)(En,{blockClickEvents:n,showUnavailablePin:C,isHovering:V,onError:p,onLoad:h,pin:_,surface:O,selectionState:S,...m})})})})})}))},903997:(e,n,i)=>{i.d(n,{Dv:()=>r,Oc:()=>t,mv:()=>o});const t=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},497959:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(716975),o=i(123686);function r({feedbackOptions:e,pin:n,viewParameter:i},r){const{board:a,pinner:s}=n,{getFeedbackType:l}=(0,t.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:a,feedback:e,pin:n,pinner:s,viewParameter:i})}},369870:(e,n,i)=>{function t(e,n){return e&&e[n]&&e[n].url}i.d(n,{Z:()=>t})},706713:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(377097),o=i(531572);function r(e,n){const{isProduct:i}=(0,t.Z)(e);return(i||"ShoppingGridShippedMetadataWithVisitButton"===n&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},721237:(e,n,i)=>{i.d(n,{$l:()=>c,Lb:()=>p,NE:()=>_,Nc:()=>a,SR:()=>r,bm:()=>h,dZ:()=>d,nU:()=>u,o:()=>s,pU:()=>l});var t=i(325768),o=i(8720);function r(e){var n;return(null===(n=e.closeup_attribution)||void 0===n?void 0:n.id)||null}function a(e){var n,i;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(n=e.aggregated_pin_data)||void 0===n||null===(i=n.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function s(e){var n;return 0!==Object.keys((null===(n=e.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function l(e){var n;return 0!==Object.keys((null===(n=e.public_creator_analytics)||void 0===n?void 0:n.all_time_realtime)||{}).length}function d(e){var n,i;return!(null===(n=e.creator_analytics)||void 0===n||null===(i=n["30d_realtime"])||void 0===i||!i.is_realtime)}function c(e){const n=e.aggregated_pin_data||{};return n.is_shop_the_look||n.is_stela}function u(e){const{native_creator:n,pinner:i,domain:t}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!i&&i.domain_verified&&i.domain_url===t)&&!e.is_promoted||n}function p(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:n,pages:i=[]}={}}=e;return{metadata:n,detailsPage:i[1]}}const h=({viewer:e,pin:n})=>(0,t.su)(e)&&n.is_quick_promotable_by_pinner;function _({carouselInfo:e,closePanelWidth:n,isWideVideo:i,isShortImage:t,naturalWidth:o,showCloseupContentRight:r}){return!(i||!r)&&(!!t||!e&&o<n)}},613933:(e,n,i)=>{i.d(n,{Nb:()=>s,Of:()=>l,YO:()=>a,ZP:()=>u,x4:()=>c});var t=i(667294),o=i(880881),r=i(384342);const a=({showPdp:e,isLargerPane:n,showCloseupContentRight:i})=>e&&n?i?r.Uj:r.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:n,showCloseupContentRight:i,showPdp:t,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:n,showCloseupContentRight:i,showPdp:t,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,t.createContext)(l);function c(){const e=(0,t.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=d},384342:(e,n,i)=>{i.d(n,{CC:()=>g,CI:()=>r,Ch:()=>s,Gb:()=>l,Gg:()=>t,Ie:()=>p,JV:()=>_,KP:()=>h,Kn:()=>a,Uj:()=>d,a7:()=>v,bx:()=>m,d2:()=>u,g9:()=>f,iB:()=>y,u6:()=>o,zT:()=>c});const t=508,o=2*t,r=488,a=992,s=672,l=1176,d=.6,c=.84,u=40,p=72,h=740,_=60,m=912,f=32,g=60,v=40,y={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},248240:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(67316),o=i(633612);function r(e,n){const i=o.Z.instance;let r;if(i){const o=i.getState();if(o.pins&&e){const i=o.pins[e],a=o.location;if(null!=n&&n.shouldTrackForPrevLocation){const e=(null==i?void 0:i.tracking_params_map)||{},n=Object.keys(e).find((e=>"PinResource"!==e));i&&(r=n?e[n]:e.PinResource)}else i&&(r=(0,t.Z)(i,a))}}return r}},675152:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(648925),o=i(994953);const r=(0,t.Z)((e=>{const{videos:n}=e.pin,{id:i,video_list:t={}}=n||{},{V_720P:r,V_HLSV4:a,V_HLSV3_MOBILE:s}=t,l=(0,o.V)(a),d=(0,o.V)(s),c=(0,o.V)(r),u=c||l||d;return i&&u?{...e,video:{id:i,hasVideo:u,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},613239:(e,n,i)=>{i.r(n),i.d(n,{default:()=>u});var t=i(40142),o=i(850770),r=i(255948),a=i(531572),s=i(539195),l=i(613933),d=i(883119),c=i(785893);function u({carouselData:e,carouselIndex:n,componentType:i,contextLogData:u,handleCarouselSwipe:p,isCloseup:h,isEditMode:_,pinId:m,viewParameter:f,viewType:g,variant:v}){const{logContextEvent:y}=(0,s.v)(),x=(0,t.useSelector)((({pins:e})=>e[m]),t.shallowEqual),b=e||(0,o.Z)({pin:x}),S=(0,t.useDispatch)();if(!b)return null;const P=(e,n,t)=>{_||void 0===r.yR||(e.preventDefault(),e.stopPropagation(),S((0,r.yR)(String(m),t))),void 0!==p&&p(t),((e,n,i,t=0,o,r,s,l,d,c,u)=>{if(!u){const{carousel_slots:u,id:p}=r;e({event_type:108,object_id_str:i,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[t])&&Number(u[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...c,...(0,a.Kl)(n)||{}}})}})(y,x,m,n,t,b,f,g,i,u,_)},{carousel_slots:T=[],index:w}=b,I=void 0!==n?n:w,E="default"===v,R=E?"white":"#555",C=E?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:_?1:0,children:[...Array(T.length).keys()].map((e=>{var n;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(n=T[e].title)&&void 0!==n?n:"",fullWidth:!1,onTap:({event:n})=>P(n,I,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===I?R:C}},rounding:"circle"})})},m+e)}))})})}},796629:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(667294),o=i(126684),r=i(400052),a=i(517649),s=i(573686),l=i(531572),d=i(8720),c=i(539195),u=i(785893);function p({children:e,hovered:n,pin:i,slotIndex:p,trafficSource:h,viewType:_}){const{logContextEvent:m}=(0,c.v)(),[f,g]=(0,t.useState)(),[v,y]=(0,t.useState)(),{id:x,tracked_link:b,link:S}=i,P=b||S||"",T=()=>{g(!0)},w=(0,s.Z)(i),I=(0,a.Z)((0,o.Z)({pin:i})),E=(0,t.useCallback)((()=>{((e,n,i)=>{const t={check_only:i,pin_id:e.id,url:n,client_tracking_params:w,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:x,...p||{},...(0,l.Kl)(e)||{}})};return(0,r.Z)(t)})(i,P,!1).callGet({showError:!1}).then((e=>{e&&(m({event_type:12,object_id_str:x,view_type:_,view_parameter:I,aux_data:{clickthrough_type:"rightClick",...p||{},...(0,l.Kl)(i)||{}}}),m({event_type:8948,view_type:_,object_id_str:x,view_parameter:I,aux_data:{click_type:"clickthrough",closeup_navigation_type:h&&(0,d.sV)(h)?"deeplink":"click",clickthrough_type:"rightClick",...p||{},...(0,l.Kl)(i)||{}}}))}))})),R=e=>{var n;f&&(/^\/pin/.test(null===(n=e.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(E(),g(!1)),window.removeEventListener(v,R,!1))};return(0,t.useEffect)((()=>{var e,n,i,t,o,r;void 0!==(null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.hidden)?y("visibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(t=i.document)||void 0===t?void 0:t.msHidden)?y("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&y("webkitvisibilitychange")}),[]),(0,t.useEffect)((()=>(f&&window&&window.addEventListener(v,R,!1),()=>window.removeEventListener(v,R))),[f,v]),(0,t.useEffect)((()=>(n&&window.addEventListener("contextmenu",T),()=>{window.removeEventListener("contextmenu",T)})),[n]),(0,u.jsx)(t.Fragment,{children:e})}},462319:(e,n,i)=>{i.d(n,{J:()=>t,o:()=>o});const t="numSearchCloseups",o=20},565375:(e,n,i)=>{i.d(n,{ZP:()=>l,tY:()=>c,Yh:()=>d});var t=i(40142),o=i(379771),r=i(456168);const a=0,s=1;function l(e){var n;const i=(0,r.Z)(),t=i.isAuth&&i.id===e,a=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!i.isAuth||t});return{showEnabledSaveBehavior:t&&i.has_quicksave_board||!(!i.isAuth||null===(n=a.data)||void 0===n||!n.has_quicksave_board)}}function d(e){var n;const i=(0,t.useDispatch)(),a=(0,r.Z)(),s=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id},dangerouslyDisableFetch:!s||!e});return a.isAuth&&void 0===a.save_behavior&&l&&null!==(n=l.data)&&void 0!==n&&n.id&&i({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){const n=(0,r.Z)();let i;return e&&(n.save_behavior===a?i={type:"classic"}:n.save_behavior===s&&(i={type:"inline"})),{saveBehaviorType:i}}},385894:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(379771),o=i(855168);function r(){const{username:e}=(0,o.UO)();return(0,t.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},712611:(e,n,i)=>{i.d(n,{k:()=>r,s:()=>a});var t=i(667294);const o=(0,t.createContext)(Object.freeze({})),r=o.Provider;function a(){return(0,t.useContext)(o)}},130510:(e,n,i)=>{i.d(n,{Ac:()=>r,c7:()=>o,cg:()=>t});const t=-1,o=5,r=6},235198:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(588028),o=i(257758);function r({action:e,board:n,viewer:i}){var r;return(0,t.Z)(i,n)||(0,o.Z)({board:n,viewer:i})&&!(null===(r=n.collaborator_permissions)||void 0===r||!r.includes(e))}},257758:(e,n,i)=>{function t({board:e,viewer:n}){const{collaborated_by_me:i}=e;return Boolean(n.isAuth&&i)}i.d(n,{Z:()=>t})},235744:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(588028),o=i(257758);function r({board:e,viewer:n}){return(0,t.Z)(n,e)||(0,o.Z)({board:e,viewer:n})}},238080:(e,n,i)=>{function t({count:e,rating:n}){return Boolean(n&&"None"!==n&&Number.isFinite(e))}i.d(n,{Z:()=>y});var o=i(144977),r=i(710159),a=i(564327),s=i(123686),l=i(112978),d=i(952733),c=i(229687),u=i(883119),p=i(785893);const h=({rating:e,textSize:n,type:i})=>{if("single"===i){const i=parseFloat(e);return Number.isNaN(i)?null:(0,p.jsxs)(u.kC,{alignItems:"center",children:[(0,p.jsx)(c.A,{fill:"full",width:12}),(0,p.jsx)(u.xv,{size:n,children:i.toFixed(1)})]})}return(0,p.jsx)(c.Z,{rating:e,width:12})},_=({bracket:e,color:n,count:i,countFormat:t,marginStart:l,textSize:c})=>{const{locale:h}=(0,d.B)(),_=(0,r.ZP)(),m=(0,a.Z)();if(null==i)return null;let f="text"===t?(0,s.nk)(_.ngettext("{{ count }} rating","{{ count }} ratings",i,"webapp.app.www-unified.productStarRatings.RatingCountText","count: total ratings count"),{count:i}).join(""):m(h,i,{shortform:!0,shortform_maximum_fraction_digits:1});return e&&(f=`(${f})`),(0,p.jsx)(u.xu,{marginStart:l,children:(0,p.jsx)(u.xv,{color:n,size:c,children:(0,p.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:f})})})};function m({count:e,countFormat:n,rating:i,textSize:o}){const r=t({count:e,rating:i}),a=(0,l.tc)("web_pdp_star_rating"),s=r&&a().anyEnabled;return r?(0,p.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(h,{rating:i,textSize:o,type:s?"single":"multiple"}),(0,p.jsx)(_,{bracket:s,color:s?"darkGray":void 0,count:e,countFormat:n,marginStart:s?1:void 0,textSize:o})]}):null}var f=i(494618);const g=({count:e,countFormat:n,ratingValue:i,shippingInfo:t,highlightLabel:o})=>(0,p.jsxs)(u.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,p.jsx)(m,{count:e,countFormat:n,rating:i,textSize:"200"}),(0,p.jsx)(f.ZP,{customStyles:{color:o?"blue":"gray",size:"md"},shippingInfo:t})]}),v=({count:e,countFormat:n,ratingValue:i,shippingInfo:o,condition:r,highlightLabel:a})=>(0,p.jsxs)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,p.jsx)(m,{count:e,countFormat:n,rating:i,textSize:"300"}),(0,p.jsx)(f.ZP,{condition:r,customStyles:{color:a?"blue":"darkGray",size:"lg"},shippingInfo:o,showPrevDot:t({count:e,rating:i})})]});function y(e){return e.isGridView?(0,p.jsx)(g,{...e}):(0,p.jsx)(v,{...e})}},388481:(e,n,i)=>{i.d(n,{$O:()=>s,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>t,_z:()=>r,fM:()=>a,qA:()=>o,zX:()=>u});const t=40,o=4,r=106,a=133,s=.1,l=10,d=246,c=197,u=236},11874:(e,n,i)=>{function t(e,n,i,t){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:n,undoAction:i,undoText:t}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,n){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:n}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(n,{I1:()=>o,Ib:()=>a,NA:()=>t,ZP:()=>r,b9:()=>l,i0:()=>s,yj:()=>d})},628613:(e,n,i)=>{i.d(n,{N:()=>a,Z:()=>r});var t=i(883119),o=i(785893);function r({children:e,fullWidth:n}){return(0,o.jsx)(t.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:e})}function a({children:e,enabled:n}){return n?(0,o.jsx)(r,{children:e}):e}},325768:(e,n,i)=>{i.d(n,{Fl:()=>c,GG:()=>u,Pw:()=>h,dl:()=>l,k3:()=>_,su:()=>m,tW:()=>p});var t=i(584230),o=i(309892),r=i(498177);const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],c=(e,n)=>{if(s.includes(e.toUpperCase())){const{anyEnabled:e}=n.experiments.getWithActivation("advertiser_growth_qp_expansion");return e}return a.includes(e.toUpperCase())},u=e=>!!e&&d.includes(e.toUpperCase()),p=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),h=({requestContext:e,history:n,pinId:i})=>{((e,n)=>{const i=(0,r.ru)("/business/convert",{next:n});e.push(i)})(n,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(i))},_=e=>{const n=e.trim().split(" ").filter((e=>!!e));return{firstName:n.length>0?n[0]:"",lastName:n.length>1?n.slice(1).join(" "):""}},m=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,t.Z)(null,e)},629037:(e,n,i)=>{function t(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}i.d(n,{Z:()=>t})},22192:(e,n,i)=>{function t(e){const n=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(n&&n.length>0)}i.d(n,{Z:()=>t})},573686:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(67316),o=i(525479),r=i(855168);function a(e){const n=(0,r.TH)(),{previous:i}=(0,o.H)();return(0,t.Z)(e,n,i)}},766279:(e,n,i)=>{function t(e){const n=Math.round(e/1e3),i=n%60;return Math.floor(n/60)+":"+(i<10?"0":"")+i}i.d(n,{Z:()=>t})},584230:(e,n,i)=>{i.d(n,{Z:()=>t});function t(e,n){if(!(e||{}).created_at&&!(n||{}).createdAt)return!1;let i="";n&&n.createdAt?i=n.createdAt:e&&e.created_at&&(i=e.created_at);const t=new Date(i);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},309892:(e,n,i)=>{i.d(n,{Z:()=>t});function t(e,n,i=28){if(!(e||{}).resurrection_info&&!(n||{}).resurrectionInfo)return!1;let t;t=n?((n||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=t?new Date(t):o;return r.setDate(r.getDate()+i),(new Date).getTime()<r.getTime()}},880881:(e,n,i)=>{i.d(n,{_Y:()=>t,qe:()=>a,xZ:()=>r});const t=(e,n)=>e.length===n.length&&e.every(((e,i)=>function(e,n){if("object"==typeof e&&"object"==typeof n){const i=Object.keys(e),t=Object.keys(n);return i.length===t.length&&i.every((i=>e[i]===n[i]))}return e===n}(e,n[i]))),o=(e,n)=>e.length===n.length&&e.every(((e,i)=>e===n[i])),r=(e,n=o)=>i=>{const t=[];return function(...o){const r=this,a=t.find((e=>e.context===r&&n(e.args,o)));if(a)return a.result;const s={context:r,args:o,result:i.apply(this,o)};return t.push(s),e&&t.length>e&&t.shift(),s.result}},a=r(1);r()},866104:(e,n,i)=>{function t(e={},n=[]){return Object.keys(e).reduce(((i,t)=>n.includes(t)?i:{...i,[t]:e[t]}),{})}i.d(n,{Z:()=>t})},516795:(e,n,i)=>{i.d(n,{Z:()=>h});var t=i(377097);var o=i(194594),r=i(766279),a=i(710159),s=i(112978),l=i(883119),d=i(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function p({backgroundColor:e,identifier:n,size:i="sm"}){const t="pine"===e?"#0FA573":"#fff",o="sm"===i?c:u;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?t:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:n})}function h({pin:e,size:n="sm",allowProductCarousel:i,allowShoppingPriceIndicator:c,shoppingLabelColor:u}){const h=(0,a.ZP)(),_=(0,t.Z)(e),m=(0,s.tc)("web_pdp_pur_optim"),{group:f,anyEnabled:g}=(0,s.aq)("hfp_idea_pin_identifer_web");if(_.isGif)return p({identifier:"GIF",size:n});if(_.isStoryPin){const{page_count:i=0,total_video_duration:t=0}=e.story_pin_data||{},o=g?f:"default";let a="idea-pin",s=i.toString();if("default"!==o)if(s=(0,r.Z)(t>0?t:5e3*i),o.includes("play"))a="play";else{if(!o.includes("icon_time"))return p({identifier:s,size:n});a="idea-pin"}return p({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:h._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:a,color:"darkGray",size:"sm"===n?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"sm",weight:"bold",children:s})]}),size:n})}if(_.isVideo){const i=e.videos,{duration:t=0}=i&&i.video_list&&i.video_list[Object.keys(i.video_list)[0]]||{};return p({identifier:(0,r.Z)(t),size:n})}if(_.isProduct){const i=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){const e=i&&(i.price||i.max_price);return e?p({identifier:e,size:n}):null}if(u){const t=null==i?void 0:i.percentage_off;let o=!1;t&&(o=m().anyEnabled);const r=o&&t||function(e){var n;return((((null===(n=e.rich_summary)||void 0===n?void 0:n.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return r?p({identifier:r,backgroundColor:u,size:n}):null}return null}if(i){const i=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],t=i&&(0,o.Z)(e.images,i.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:r=[],index:a=0}=t;return p({identifier:`${a+1}/${r.length}`,size:n})}if(_.isCarousel){const i=e.carousel_data||{},{carousel_slots:t=[],index:o=0}=i;return p({identifier:`${o+1}/${t.length}`,size:n})}return null}},834375:(e,n,i)=>{i.d(n,{P:()=>a,t:()=>s});var t=i(724207);const o=()=>{};const r={complaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},followBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>n()))},followPinner:function(e,n){t.ZP.create("UserFollowResource",e).callCreate().then((()=>n()))},followTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>n()))},newsHubPinHide:function(e,n){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>n()))},promotedComplaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},relatedPinHide:function(e,n){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>n()))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>n()))},unfollowPinner:function(e,n){t.ZP.create("UserFollowResource",e).callDelete().then((()=>n()))},unfollowTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>n()))},unrelatedSearchPin:function(e,n){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>n()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,n,i=o){const t=e?r[e]:null;return t?t(n,i):i()}},716975:(e,n,i)=>{i.d(n,{EF:()=>u,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var t=i(632589),o=i(834375),r=i(879268);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:n})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:i,board:t,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:u}=d.board,p=r("navigation",u,o);return n(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:p});case"topic":const{name:h,url_name:_}=c,m=r("topicUrl",`/topics/${_}`,h);return n(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:m});case"followed":const f=`/${s.username}`,g=r("boardUrl",t.url,a(t.name)),v=r("pinnerUrl",f,a(s.full_name));return s.explicitly_followed_by_me?n(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:v}):n(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:g});case"promoted":switch(i){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:i,username:t}=l,o=r("promotedLink",t?"/"+t+"/":"/",i);return n(e._("{{ promoterLink }} paid to have this Pin show up where\n          youâ€™d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:n,viewParameter:i,pin:{promoter:t,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=n&&n.type;return t&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:t,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===n;let c,u;switch(n){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(n){case"search":u={query:e.query,pin_id:i};break;case"related":u={pin:i};break;case"newsHub":u={pinId:i,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:i,...t?{recommendation_reason_id:t}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:u}},getUnfollowAction:({board:i,feedbackType:t,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===t){if(s){const{id:i,name:t,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,t,!0),d=n(e._("Weâ€™ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===t&&i&&a){const{id:t,name:r,url:s}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,u=`/${c}`,p=o("boardUrl",s,r,!0),h=o("pinnerUrl",u,d,!0);let _=l?n(e._("Youâ€™ve unfollowed {{ formattedPinner }}â€™s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:h,formattedBoard:p}):n(e._("Youâ€™ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p});return _=l?n(e._("You unfollowed {{ formattedPinner }} and wonâ€™t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:h}):n(e._("You unfollowed the board {{ formattedBoard }} and wonâ€™t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:p}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:_}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,n,i,t,r,a,s){return()=>{const l={...e,undo:!0};let d=n;"unfollowPinner"===n?d="followPinner":"unfollowBoard"===n?d="followBoard":"unfollowTopic"===n&&(d="followTopic"),(0,o.t)(d,l),a(i),s({event_type:101,component:0,element:11181,view_type:t,view_parameter:r})}}},230555:(e,n,i)=>{function t(e,n){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const i=e.images;if(!i)return"";if(n){const e="474x"===n&&i["474x"]||"236x"===n&&i["236x"]||i["736x"];if(e&&e.url)return e.url}const t=Object.keys(i).map((e=>{try{const n=e.split("x")[0];return Number.isNaN(Number(n))?(i[n]=i[e],n):e}catch(n){return""}}));t.sort();const o=t.pop();return i[o]&&i[o].url||""}i.d(n,{Z:()=>t})},377097:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(629037),o=i(8720);function r(e){const{access:n,attribution:i,embed:r,is_eligible_for_web_closeup:a,rich_summary:s,sponsorship:l,story_pin_data_id:d,videos:c}=e,u={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(u.isLeadPin=!0),(0,t.Z)(e)&&(u.isCarousel=!0),a&&(u.isOneTap=!0),(0,o.iR)(c)&&(u.isVideo=!0);const p=r||i&&i.embed||null;return p&&"gif"===p.type&&(u.isGif=!0),s&&"product"===s.type_name&&(u.isProduct=!0),s&&"recipe"===s.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(n||[]).includes("write")&&(u.isOwnPin=!0),d&&(u.isStoryPin=!0),l&&(u.isSponsored=!0),u}},517649:(e,n,i)=>{function t(e){if(e&&e.pin){const n=e.pin.rich_metadata;if(n)return n.products?144:n.article?141:n.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}i.d(n,{Z:()=>t})},578810:(e,n,i)=>{i.d(n,{Z:()=>t});const t=e=>`//connect.facebook.net/${(e=>{const n=e.replace(/-/g,"_");if(n.startsWith("es"))return"es_LA";if(n.startsWith("ar"))return"ar_AR";switch(n){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return n}})(e)}/sdk.js`},494618:(e,n,i)=>{i.d(n,{KX:()=>u,Uv:()=>c,ZP:()=>p,gP:()=>d});var t=i(220932),o=i(710159),r=i(225643),a=i(123686),s=i(883119),l=i(785893);function d({condition:e}){const n=(0,o.ZP)();switch(e){case r.ConditionType.USED:return n._("Used","closeup.product.condition_used","product condition that is used");case r.ConditionType.REFURBISHED:return n._("Refurbished","closeup.product.condition_refurbished","product condition that is refurbished");case r.ConditionType.NEW:default:return""}}function c(){return(0,o.ZP)()._("Free shipping","closeup.product.shipping","product shipping info")}function u({freeShippingPrice:e}){const n=(0,o.ZP)();return(0,a.nk)(n._("Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{shippingPrice:e}).join("")}function p({customStyles:e,shippingInfo:n,showPrevDot:i,condition:o}){const{free_shipping_price:r,free_shipping_value:a}=n||{},p=i?[""]:[],{color:h="gray",size:_="md"}=e||{},m=d({condition:o});return Number.isFinite(a)?(m&&p.push(m),0===a?p.push((0,l.jsx)(c,{})):r&&p.push((0,l.jsx)(u,{freeShippingPrice:r})),0===p.length?null:(0,l.jsx)(s.xv,{color:h,size:_,children:(0,l.jsx)(t.Z,{color:h,items:p})})):null}},483050:(e,n,i)=>{function t(e){const n=Object.keys(e);if(n.length>0){return n.sort(((n,i)=>e[i]-e[n])).slice(0,3)}return null}function o(e){const n=Object.values(e);if(n.length>0){return n.reduce(((e,n)=>e+n),0)}return 0}function r(e,n){const{videos:i,is_downstream_promotion:t,is_promoted:o,story_pin_data_id:r,board:a}=e;return!(o||t||(!i||!i.id)&&!r||n||null!=a&&a.is_collaborative&&a.collaborated_by_me)}i.d(n,{At:()=>t,J6:()=>r,Ud:()=>o})},229687:(e,n,i)=>{i.d(n,{A:()=>l,Z:()=>d});var t=i(667294),o=i(498913),r=i.n(o),a=i(883119),s=i(785893);const l=({fill:e,width:n,color:i})=>{const o="half"===e?(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:n,width:i,color:o}){const a=[],d=function(e,n){return 5*(n=n<=e?n:e)/e}(parseFloat(e)||5,parseFloat(n)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),u=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},e)))),u>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},a.length)):u>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:i},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:i},a.length)))),(0,s.jsx)(t.Fragment,{children:a})}},994953:(e,n,i)=>{i.d(n,{V:()=>t});const t=e=>{const{thumbnail:n,url:i,width:t,height:o,duration:r}=e||{};return n&&i&&t&&o&&{thumbnail:n,url:i,width:t,height:o,duration:r}||void 0}},720251:(e,n,i)=>{i.d(n,{Jg:()=>r,ZP:()=>a,c5:()=>s});var t=i(71445);const o=.01,r=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function a(e){return new Promise(((n,i)=>{if(document.querySelector(`script[src="${e}"]`))return void n();const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}))}function s(e,n=r.OTHER,i=!1){const a=i?"web":"mweb";return new Promise(((i,s)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(n===r.GPLUS_ONE)if(window.gapi)i();else{const n=setInterval((()=>{window.gapi||20===e?(clearInterval(n),i()):(e+=1,t.Z.increment(`${a}.loadScript.gplus_one.tries_${e}`,o))}),100)}else if(n===r.FACEBOOK)if(window.FB)i();else{const n=setInterval((()=>{window.FB||20===e?(clearInterval(n),i()):(e+=1,t.Z.increment(`${a}.loadScript.facebook.tries_${e}`,o))}),100)}else if(n===r.GSI)if(window.google)i();else{const n=setInterval((()=>{window.google||20===e?(clearInterval(n),i()):(e+=1,t.Z.increment(`${a}.loadScript.gsi.tries_${e}`,o))}),100)}else i()}else{const n=document.createElement("script");n.src=e,n.async=!0,n.addEventListener("load",i),n.addEventListener("error",s),document.getElementsByTagName("head")[0].appendChild(n)}}))}},897985:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(710159),o=i(883119),r=i(785893);function a({height:e,isDenseView:n,rounding:i,width:a}){const s=(0,t.ZP)();return(0,r.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:i,overflow:"hidden",width:a,height:e,"data-test-id":"unavailable-pin",children:(0,r.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:n?2:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:s._("Pin not available","story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel","Accessibility label on icon"),color:"darkGray",icon:"alert",size:20})}),(0,r.jsx)(o.xv,{weight:"bold",children:s._("Unavailable","story-pin.Closeup.UnavailableIdeaPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),!n&&(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{children:s._("Removed by the creator","story-pin.Closeup.UnavailableIdeaPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})}},514183:(e,n,i)=>{i.d(n,{Z:()=>t});const t=(e,n)=>e.length>n?e.substr(0,n-3).trim()+"â€¦":e},819086:(e,n,i)=>{i.d(n,{ZP:()=>t});function t(e,n=80,i="â€¦",t=false){let o;if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||t)o=e.substring(0,n);else{const i=e.lastIndexOf(" ",n);o=e.substring(0,i)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+i}},235988:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(883119),o=i(785893);function r({ariaHidden:e=!1,color:n="darkGray",size:i}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(t.xv,{color:n,inline:!0,size:null!=i?i:"md",children:"Â·"})})}},220932:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(667294),o=i(235988),r=i(883119),a=i(785893);function s(e){return null!=e}function l({additionalPadding:e,color:n="darkGray",inline:i,items:l}){const d=e?(0,a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,a.jsx)(o.Z,{color:n})}):(0,a.jsx)(o.Z,{color:n}),c=l.filter(s).reduce(((e,n,i)=>[...e,0!==i?d:null,n]),[]).filter(s).map(((e,n)=>(0,a.jsx)(t.Fragment,{children:e},n)));return 0===c.length?null:i?(0,a.jsx)(r.xu,{children:c}):(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:c})}},751438:(e,n,i)=>{i.d(n,{Z:()=>r,t:()=>o});const t=()=>{var e,n;const i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(n=e.connection)||void 0===n?void 0:n.effectiveType:void 0;let t,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return i?"4g"===i?t="40-80":(o="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:o}};function o(e){const{downloadSpeedGroup:n,screenDimension:i}=t(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[n][i]||e.V_720P||void 0}function r(e){const{video_list:n={}}=e,i=o(n),t=n.V_HLSV3_MOBILE||void 0;return i?{hlsv3:t,mp4:i}:{hlsv3:t}}},259755:(e,n,i)=>{function t(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}i.d(n,{k:()=>t,m:()=>o})},479014:(e,n,i)=>{i.r(n),i.d(n,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>v});var t=i(667294),o=i(231613),r=i(379771),a=i(456168),s=i(112978),l=i(487889),d=i(454132);const c=e=>{const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?n[(0,d.Z)(i)]=e[i]:n[(0,d.Z)(i)]=c(e[i]));return n},u=(e,n)=>{const i=[];for(const r in e)r!==n&&i.push({id:r,...c(e[r])});const t=i.sort((({user:{businessName:e}},{user:{businessName:n}})=>e.localeCompare(n))),o=new Map;for(const r of t)o.set(r.id,r);return o};var p=i(340813);const h={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,n)=>{switch(n.type){case"LOAD_PROFILES":return{...e,profiles:n.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:n.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:n.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:n.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:n.payload};default:return e}},m=e=>{const[n,i]=(0,t.useReducer)(_,h),o=(({dispatch:e,isEnabled:n,state:i})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:a}=i;return{changeProfile:(0,t.useCallback)((i=>{n&&e({type:"SET_ACTIVE_PROFILE",payload:i})}),[n,e]),toggleORBACVisibility:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=i?i:!o})}),[n,e,o]),toggleDisableProfileChanger:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=i?i:!r})}),[n,e,r]),toggleHeaderVisibility:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=i?i:!a})}),[n,e,a])}})({dispatch:i,isEnabled:e,state:n}),{activeProfile:r,orbacVisibility:a}=n;(0,t.useEffect)((()=>{const e=(0,p.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,t.useEffect)((()=>{const e=(0,p.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,t.useEffect)((()=>{(0,p.Nh)("orbacVisibility",a)}),[a]),(0,t.useEffect)((()=>{(0,p.Nh)("orbacActiveProfile",r)}),[r]);return{state:n,actions:o,receiveProfiles:(0,t.useCallback)(((e,n)=>{i({type:"LOAD_PROFILES",payload:u(e,n)})}),[i])}};var f=i(785893);const{Provider:g,useMaybeHook:v}=(0,l.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const n=(0,s.tc)("web_m10n_business_access_orbac_www"),i=(0,a.Z)(),l=Boolean(i.isAuth&&i.isPartner&&n().anyEnabled),{state:d,actions:c,receiveProfiles:u}=m(l),{activeProfile:p,headerVisible:h,profiles:_=[]}=d,v=_?Array.from(_.values()):[],y=(0,o.Z)(v),x=!!(i.isAuth&&v.length>0)&&y,b=i.isAuth?i.id:"",S=i.isAuth?i.username:"",{changeProfile:P,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:I}=c;(0,t.useEffect)((()=>{l&&("string"!=typeof y?p||P(b):P(y))}),[y,b,l,P,p]),(0,t.useEffect)((()=>{l&&(x&&!h&&I(!0),!x&&h&&I(!1))}),[I,x,l,h,_]);const{data:E}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),R=null==E?void 0:E.profiles;let C;i&&i.isAuth&&d.activeProfile===i.id?C={id:i.id,permissions:["OWNER"],user:{username:S,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:p&&d.profiles&&(C=d.profiles.get(p)),(0,t.useEffect)((()=>{R&&u(R,b)}),[u,R,b]);const O=d.profiles?Array.from(d.profiles.values()):[];return(0,f.jsx)(g,{value:{profiles:O,headerVisible:d.headerVisible,activeProfile:C,changeProfile:P,toggleORBACVisibility:T,toggleDisableProfileChanger:w,toggleHeaderVisibility:I},children:e})}},625983:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(112978),o=i(479014);const r=()=>{const e=(0,t.tc)("web_m10n_business_access_orbac_www"),n=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:i}=n||{};return e().anyEnabled&&i||Object.freeze({})}},231613:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(40142),o=i(456168),r=i(112978),a=i(907683),s=i(855168);const l=e=>{var n;const i=(0,s.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,r.tc)("web_m10n_business_access_orbac_beta_2")(),c=(0,s.$B)("/:username"),u=null==c||null===(n=c.params)||void 0===n?void 0:n.username,p=(0,s.$B)("/pin/:id"),h=(0,t.useSelector)((e=>{var n,i,t,o;return!(null==p||null===(n=p.params)||void 0===n||!n.id)&&(null==e||null===(i=e.pins)||void 0===i||null===(t=i[p.params.id])||void 0===t||null===(o=t.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(i))return!1;if((0,a.RU)(i))return!0;if((0,a.mY)(i))return d;const _=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:n={},id:i}=e||{},{username:t}=n;return!!(t&&u||h&&i)&&(t===u||h===i)}));return!!_&&_.id}},406335:(e,n,i)=>{i.d(n,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>t,N1:()=>u,_P:()=>a,lJ:()=>r,nl:()=>o,q6:()=>l});const t=(e,n)=>{let i=e&&e.isAuth?e.username:"";return e&&n&&n.user&&n.user.username&&(i=n.user.username),i},o=(e,n)=>Boolean(n&&n.user&&e&&e.isAuth&&n.id!==e.id?n.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,n)=>e&&e.isAuth&&n&&n.id&&n.id!==e.id?n.id:"",a=(e,n,i)=>{var t;return i&&i.user&&n&&n.isAuth&&i.id!==n.id?i.user.merchantId:null===(t=e.advertiser)||void 0===t?void 0:t.merchant_id},s=(e,n,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&n&&n.scheduled_pin_count||0,l=(e,n,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===n),d=(e,n,i)=>!!(l(e,n,i)||e&&e.isAuth&&n===e.id),c=(e,n,i)=>{const t=n&&n.owner&&n.owner.id||"";return d(e,t,i)};function u(e,n,i){const t=n?n.id:"";return d(e,t,i)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/30273-3b19a4c52b6404da.mjs.map