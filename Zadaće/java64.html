<!DOCTYPE html>
<html>
    <head>
<script>
    function potrdiObrazec(){
        let ime = document.getElementById("ime");
        if(ime.value.trim().split(" ").length < 2){
            ime.style.backgroundColor = "lightcoral";
            return;
        }else{
        ime.style.backgroundColor ="";
    }
    let email = document.getElementById("email");
    if(email.value.trim().split("@")[1] != "student.upr.si"){
        email.style.backgroundColor = "lightcoral";
        return;
    }else{
        email.style.backgroundColor ="";
    }
    let obrazec = document.getElementById("obrazec");
    obrazec.submit();
}

let dodiplomskiProgrami = [
    "Matematika",
    "Računalništvo in informatika", 
    "Bioinformatika"
];

function zbrisiIzbire(select){
    while(select.length > 0){
        select.remove(0);
    }
}

function dodajIzbire(select, izbire){
    for(let i = 0; i < izbire.length; i++){
        let option = document.getElementById("option");
        option.text = izbire[i];
        select.appendChild(option);
    }
}

function izbiraPrograma(){
    let stopnja = document.getElementById("stopnja");
    let program = document.getElementById("program");

    zbrisiIzbire(program);

    switch(stopnja.value){
        case "Dodiplomski študij": dodajIzbire(program, dodiplomskiProgrami);
        break;
        case "Magistarski študij": 
        break;
        case "Doktorski študij":
            break;
            default;
            break;
    }
}
</script>
    </head>
    <body>
        <form method="POST" action="target.html" id="obrazec">
            <fieldset>
                <div>
                    <label>Ime študenta:</label>
                    <input type="text" placeholder="Ime in priimek" id="ime">
                </div>

                <div>
                    <label> Datum rojstva:</label>
                    <input type="date">
                </div>

                <div>
                    <label> Tel. št.:</label>
                    <input type="tel" placeholder="000-000-000" pattern="[0-9]{3}-[0-9]{3}-[0-9]{3}">
                </div>

                <div>
                    <label> Elektronska pošta:</label>
                    <input type="email" placeholder="vpisna@student.upr.si" required id="email">
                </div>
            </fieldset>

         <fieldset>
            <div>
                <label> Stopnja študija:</label>
                <select onchange="izbiraPrograma()" id="stopnja">
                <option>Dodiplomski študij</option>
                <option> Magistarski študij</option>
                <option>Doktorski študij</option>
                </select>
            </div>
            <div>
                <label>Študijski program:</label>
                <select id="program"> </select>
            </div>
         </fieldset>
         <input type="button" value="Potrdi" onclick="potrdiObrazec()">
        </form>
    </body>
</html>